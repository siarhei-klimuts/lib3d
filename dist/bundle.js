!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("three")):"function"==typeof define&&define.amd?define(["three"],t):"object"==typeof exports?exports.lib3d=t(require("three")):n.lib3d=t(n.three)}(this,function(n){return function(n){function t(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return n[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var e={};return t.m=n,t.c=e,t.p="/dist",t(0)}([/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
function(n,t,e){"use strict";function r(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t["default"]=n,t}function o(n){return n&&n.__esModule?n:{"default":n}}function i(n,e,r){t.renderer=I=new v["default"].WebGLRenderer({canvas:n||void 0,antialias:!0}),I.setSize(e,r),y.setSize(e,r),f()}function u(n){C.push(n)}function a(n){return m.loadLibrary(n)}function f(){requestAnimationFrame(f),I.render(m.scene,y.camera),C.forEach(function(n){return n()})}Object.defineProperty(t,"__esModule",{value:!0}),t.renderer=t.navigation=t.selector=t.preview=t.mouse=t.locator=t.environment=t.camera=t.SelectorMetaDto=t.SelectorMeta=t.SectionObject=t.BookObject=t.ShelfObject=void 0;var c=e(1);Object.defineProperty(t,"ShelfObject",{enumerable:!0,get:function(){return c["default"]}});var l=e(4);Object.defineProperty(t,"BookObject",{enumerable:!0,get:function(){return l["default"]}});var s=e(5);Object.defineProperty(t,"SectionObject",{enumerable:!0,get:function(){return s["default"]}});var p=e(6);Object.defineProperty(t,"SelectorMeta",{enumerable:!0,get:function(){return p["default"]}});var d=e(7);Object.defineProperty(t,"SelectorMetaDto",{enumerable:!0,get:function(){return d["default"]}}),t.init=i,t.addLoop=u,t.load=a;var h=e(2),v=o(h),g=e(8),y=r(g),_=e(10),m=r(_),b=e(15),w=r(b),A=e(21),x=r(A),S=e(22),P=r(S),O=e(25),M=r(O),E=e(26),j=r(E);t.camera=y,t.environment=m,t.locator=w,t.mouse=x,t.preview=P,t.selector=M,t.navigation=j;var I=t.renderer=void 0,C=[]},/*!***********************************!*\
  !*** ./src/models/ShelfObject.js ***!
  \***********************************/
function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function i(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function u(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var a=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var f=e(2),c=r(f),l=e(3),s=r(l),p="ShelfObject",d=function(n){function t(n){o(this,t);var e=n.size,r=new c["default"].BoxGeometry(e[0],e[1],e[2]);r.computeBoundingBox();var u=i(this,Object.getPrototypeOf(t).call(this,n,r));return u.position.set(n.position[0],n.position[1],n.position[2]),u.size=new c["default"].Vector3(e[0],e[1],e[2]),u.material.transparent=!0,u.material.opacity=0,u}return u(t,n),a(t,[{key:"vbType",get:function(){return p}}],[{key:"TYPE",get:function(){return p}}]),t}(s["default"]);t["default"]=d},/*!************************!*\
  !*** external "three" ***!
  \************************/
function(t,e){t.exports=n},/*!**********************************!*\
  !*** ./src/models/BaseObject.js ***!
  \**********************************/
function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function i(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function u(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var a=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var f=e(2),c=r(f),l=function(n){function t(n,e,r){o(this,t);var u=i(this,Object.getPrototypeOf(t).call(this,e,r));return u.dataObject=n||{},u.rotation.order="XYZ",u.setDtoTransformations(),u}return u(t,n),a(t,[{key:"getType",value:function(){return this.vbType}},{key:"getId",value:function(){return this.dataObject&&this.dataObject.id}},{key:"setDtoTransformations",value:function(){this.position.setX(this.dataObject.pos_x||0),this.position.setY(this.dataObject.pos_y||0),this.position.setZ(this.dataObject.pos_z||0),this.dataObject.rotation&&this.rotation.fromArray(this.dataObject.rotation.map(Number)),this.updateBoundingBox()}},{key:"isOutOfParrent",value:function(){return Math.abs(this.boundingBox.center.x-this.parent.boundingBox.center.x)>this.parent.boundingBox.radius.x-this.boundingBox.radius.x||Math.abs(this.boundingBox.center.z-this.parent.boundingBox.center.z)>this.parent.boundingBox.radius.z-this.boundingBox.radius.z}},{key:"isCollided",value:function(){var n,t,e,r;if(this.updateBoundingBox(),n=this.isOutOfParrent(),t=this.parent.children,!n)for(r=t.length-1;r>=0;r--)if(e=t[r].boundingBox,!(t[r]===this||!e||Math.abs(this.boundingBox.center.x-e.center.x)>this.boundingBox.radius.x+e.radius.x||Math.abs(this.boundingBox.center.y-e.center.y)>this.boundingBox.radius.y+e.radius.y||Math.abs(this.boundingBox.center.z-e.center.z)>this.boundingBox.radius.z+e.radius.z)){n=!0;break}return n}},{key:"move",value:function(n){var t,e;return e=!1,t=this.position.clone(),n.x&&(this.position.setX(n.x),this.isCollided()?this.position.setX(t.x):e=!0),n.z&&(this.position.setZ(n.z),this.isCollided()?this.position.setZ(t.z):e=!0),this.changed=this.changed||e,this.updateBoundingBox(),e}},{key:"rotate",value:function(n,t,e){var r=this.rotation.clone(),o=!1;n&&(this.rotation.y+=.01*n,!e&&this.isCollided()?this.rotation.y=r.y:o=!0),t&&(this.rotation.x+=.01*t,!e&&this.isCollided()?this.rotation.x=r.x:o=!0),this.changed=this.changed||!e&&o,this.updateBoundingBox()}},{key:"updateBoundingBox",value:function(){var n,t,e;this.updateMatrix(),n=this.geometry.boundingBox.clone().applyMatrix4(this.matrix),t={x:.5*(n.max.x-n.min.x),y:.5*(n.max.y-n.min.y),z:.5*(n.max.z-n.min.z)},e=new c["default"].Vector3,e.addVectors(n.min,n.max),e.multiplyScalar(.5),this.boundingBox={radius:t,center:e}}},{key:"rollback",value:function(){this.setDtoTransformations()}}]),t}(c["default"].Mesh);t["default"]=l},/*!**********************************!*\
  !*** ./src/models/BookObject.js ***!
  \**********************************/
function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function i(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function u(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var a=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var f=e(3),c=r(f),l="BookObject",s=function(n){function t(n,e,r){return o(this,t),i(this,Object.getPrototypeOf(t).call(this,n,e,r))}return u(t,n),a(t,[{key:"getDto",value:function(){return{id:this.getId(),userId:this.dataObject.userId,pos_x:this.position.x,pos_y:this.position.y,pos_z:this.position.z}}},{key:"setParent",value:function(n){this.parent!=n&&(n?(n.add(this),this.dataObject.shelfId=n.getId(),this.dataObject.sectionId=n.parent.getId()):(this.parent.remove(this),this.dataObject.shelfId=null,this.dataObject.sectionId=null))}},{key:"vbType",get:function(){return l}}],[{key:"TYPE",get:function(){return l}}]),t}(c["default"]);t["default"]=s},/*!*************************************!*\
  !*** ./src/models/SectionObject.js ***!
  \*************************************/
function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function i(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function u(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var a=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var f=e(3),c=r(f),l=e(1),s=r(l),p="SectionObject",d=function(n){function t(n,e,r){o(this,t);var u=i(this,Object.getPrototypeOf(t).call(this,n,e,r));u.shelves={};for(var a in n.data.shelves)u.shelves[a]=new s["default"](n.data.shelves[a]),u.add(u.shelves[a]);return u}return u(t,n),a(t,[{key:"getDto",value:function(){return{id:this.getId(),userId:this.dataObject.userId,pos_x:this.position.x,pos_y:this.position.y,pos_z:this.position.z,rotation:[this.rotation.x,this.rotation.y,this.rotation.z]}}},{key:"setParent",value:function(n){this.parent!=n&&(n?(n.add(this),this.dataObject.libraryId=n.getId()):(this.parent.remove(this),this.dataObject.libraryId=null))}},{key:"vbType",get:function(){return p}}],[{key:"TYPE",get:function(){return p}}]),t}(c["default"]);t["default"]=d},/*!************************************!*\
  !*** ./src/models/SelectorMeta.js ***!
  \************************************/
function(n,t){"use strict";function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function n(t){e(this,n),t&&(this.id=t.getId(),this.parentId=t.parent.getId(),this.type=t.getType())}return r(n,[{key:"isEmpty",value:function(){return!this.id}},{key:"equals",value:function(n){return!(!n||n.id!==this.id||n.parentId!==this.parentId||n.type!==this.type)}}]),n}();t["default"]=o},/*!***************************************!*\
  !*** ./src/models/SelectorMetaDto.js ***!
  \***************************************/
function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function i(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function u(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=e(6),f=r(a),c=function(n){function t(n,e,r){o(this,t);var u=i(this,Object.getPrototypeOf(t).call(this));return u.type=n,u.id=e,u.parentId=r,u}return u(t,n),t}(f["default"]);t["default"]=c},/*!***********************!*\
  !*** ./src/camera.js ***!
  \***********************/
function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function o(n){n.add(y)}function i(){return y.position}function u(n,t){var e=y.rotation.x+1e-4*t||0,r=y.rotation.y+1e-4*n||0;1.57>e&&e>-1.57&&(y.rotation.x=e),y.rotation.y=r}function a(n){var t=f(),e=y.position.clone();e.add(t.multiplyScalar(n)),y.move(e)}function f(){var n=new s["default"].Vector3(0,0,-1);return n.applyEuler(y.rotation)}function c(n,e){t.width=h=n,t.height=v=e,g.aspect=h/v,g.updateProjectionMatrix()}Object.defineProperty(t,"__esModule",{value:!0}),t.object=t.camera=t.height=t.width=void 0,t.setParent=o,t.getPosition=i,t.rotate=u,t.go=a,t.getVector=f,t.setSize=c;var l=e(2),s=r(l),p=e(9),d=r(p),h=t.width=300,v=t.height=300,g=t.camera=new s["default"].PerspectiveCamera(45,h/v,.01,50),y=t.object=new d["default"](g)},/*!************************************!*\
  !*** ./src/models/CameraObject.js ***!
  \************************************/
function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function i(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function u(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var a=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var f=e(2),c=r(f),l=e(3),s=r(l),p=1.5,d=function(n){function t(n){o(this,t);var e=new c["default"].Geometry;e.boundingBox=new c["default"].Box3(new c["default"].Vector3(-.1,-1,-.1),new c["default"].Vector3(.1,1,.1));var r=i(this,Object.getPrototypeOf(t).call(this,null,e));return r.rotation.order="YXZ",r.position.y=p,r.add(new c["default"].PointLight(6706517,1.6,10)),r.add(n),r}return u(t,n),a(t,[{key:"updateBoundingBox",value:function(){var n={x:this.geometry.boundingBox.max.x,y:this.geometry.boundingBox.max.y,z:this.geometry.boundingBox.max.z};this.boundingBox={radius:n,center:this.position}}}]),t}(s["default"]);t["default"]=d},/*!****************************!*\
  !*** ./src/environment.js ***!
  \****************************/
function(n,t,e){"use strict";function r(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t["default"]=n,t}function o(n){return n&&n.__esModule?n:{"default":n}}function i(n){v();var t=g(n);return V.fog=new E["default"].Fog(0,4,7),Z=t.sections,J=t.books,h(n,t.sections,t.books).then(function(){return y(n),_(Z)}).then(function(){return U.centerObject(H.object)}).then(function(){return m(J)})}function u(n){return S(J,n)}function a(n){return S(Z,n)}function f(n,t){var e=a(n),r=e&&e.shelves[t];return r}function c(n){return n.libraryId==F.getId()?(p(n.id),w(n)):(p(n.id),Promise.resolve(n))}function l(n){return P(n)?(s(n.id),A(n)):(s(n.id),Promise.resolve(!0))}function s(n){d(J,n)}function p(n){d(Z,n)}function d(n,t){var e=n[t];e&&(delete n[t],e.obj&&e.obj.setParent(null))}function h(n,t,e){var r=n.model,o={},i={};for(var u in t){var a=t[u].dto;o[a.model]=!0}for(var f in e){var c=e[f].dto;i[c.model]=!0}return z.init(r,o,i)}function v(){for(t.library=F=null,Z={},J={};V.children.length>0;)V.children[0].dispose&&V.children[0].dispose(),V.remove(V.children[0])}function g(n){for(var t={sections:{},books:{}},e=n.sections.length-1;e>=0;e--){var r=n.sections[e];t.sections[r.id]={dto:r};for(var o=r.books.length-1;o>=0;o--){var i=r.books[o];t.books[i.id]={dto:i}}delete r.books}return delete n.sections,t}function y(n){var e=z.getLibrary(),r=new E["default"].Texture(e.mapImage),o=new E["default"].MeshPhongMaterial({map:r});r.needsUpdate=!0,t.library=F=new B["default"](n,e.geometry,o),F.add(new E["default"].AmbientLight(3355443)),H.setParent(F),V.add(F)}function _(n){return b(n,w)}function m(n){return b(n,A)}function b(n,t){var e,r=[];for(e in n)r.push(t(n[e].dto));return Promise.all(r)}function w(n){var t=z.getSection(n.model).then(function(t){var e,r=new E["default"].Texture(t.mapImage),o=new E["default"].MeshPhongMaterial({map:r});return r.needsUpdate=!0,n.data=t.data,e=new k["default"](n,t.geometry,o),F.add(e),x(Z,e),n});return t}function A(n){return Promise.all([z.getBook(n.model),n.cover?W.loadImage(n.cover.url):Promise.resolve(null)]).then(function(t){var e=t[0],r=t[1],o=new I["default"](e.mapImage,e.bumpMapImage,e.specularMapImage,r),i=new L["default"](n,e.geometry,o);x(J,i),O(i)})}function x(n,t){var e={dto:t.dataObject,obj:t};n[t.getId()]=e}function S(n,t){var e=n[t],r=e&&e.obj;return r}function P(n){return f(n.sectionId,n.shelfId)}function O(n){var t=P(n.dataObject);t.add(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.library=t.scene=t.CLEARANCE=void 0,t.loadLibrary=i,t.getBook=u,t.getSection=a,t.getShelf=f,t.updateSection=c,t.updateBook=l,t.removeBook=s,t.removeSection=p;var M=e(2),E=o(M),j=e(11),I=o(j),C=e(14),B=o(C),D=e(4),L=o(D),T=e(5),k=o(T),G=e(8),H=r(G),R=e(15),U=r(R),N=e(19),z=r(N),X=e(20),W=r(X),V=(t.CLEARANCE=.001,t.scene=new E["default"].Scene),F=t.library=null,Z={},J={}},/*!***************************************!*\
  !*** ./src/materials/BookMaterial.js ***!
  \***************************************/
function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function i(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function u(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=e(2),f=r(a),c=e(12),l=e(13),s=function(n){function t(n,e,r,u){o(this,t);var a,s,p,d,h,v,g={};a=f["default"].UniformsUtils.merge([f["default"].UniformsLib.common,f["default"].UniformsLib.bump,f["default"].UniformsLib.fog,f["default"].UniformsLib.lights]),a.shininess={type:"f",value:30},g.PHONG=!0,n&&(p=new f["default"].Texture(n),p.needsUpdate=!0,a.map={type:"t",value:p}),e&&(d=new f["default"].Texture(e),d.needsUpdate=!0,a.bumpMap={type:"t",value:d},a.bumpScale.value=.005),r&&(h=new f["default"].Texture(r),h.needsUpdate=!0,a.specular={type:"c",value:new f["default"].Color(5592405)},a.specularMap={type:"t",value:h}),u&&(v=new f["default"].Texture(u),v.needsUpdate=!0,a.coverMap={type:"t",value:v},g.USE_COVER=!0),s={vertexShader:c,fragmentShader:l,uniforms:a,defines:g,lights:!0,fog:!0};var y=i(this,Object.getPrototypeOf(t).call(this,s));return y.map=!!n,y.bumpMap=!!e,y.specularMap=!!r,y}return u(t,n),t}(f["default"].ShaderMaterial);t["default"]=s},/*!***********************************************!*\
  !*** ./src/materials/shaders/BookMaterial.vs ***!
  \***********************************************/
function(n,t){n.exports="varying vec3 vViewPosition;\r\nvarying vec3 vNormal;\r\n\r\n#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )\r\n	varying vec2 vUv;\r\n	uniform vec4 offsetRepeat;\r\n#endif\r\n\r\n#ifndef PHONG_PER_PIXEL\r\n	#if MAX_POINT_LIGHTS > 0\r\n		uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\r\n		uniform float pointLightDistance[ MAX_POINT_LIGHTS ];\r\n		varying vec4 vPointLight[ MAX_POINT_LIGHTS ];\r\n	#endif\r\n\r\n	#if MAX_SPOT_LIGHTS > 0\r\n		uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\r\n		uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\r\n		varying vec4 vSpotLight[ MAX_SPOT_LIGHTS ];\r\n	#endif\r\n#endif\r\n\r\n#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP )\r\n	varying vec3 vWorldPosition;\r\n#endif\r\n\r\n#ifdef USE_COLOR\r\n	varying vec3 vColor;\r\n#endif\r\n\r\nvoid main() {\r\n	#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )\r\n		vUv = uv * offsetRepeat.zw + offsetRepeat.xy;\r\n	#endif\r\n\r\n	#ifdef USE_COLOR\r\n		#ifdef GAMMA_INPUT\r\n			vColor = color * color;\r\n		#else\r\n			vColor = color;\r\n		#endif\r\n	#endif\r\n\r\n	vec3 objectNormal;\r\n	#ifdef USE_SKINNING\r\n		objectNormal = skinnedNormal.xyz;\r\n	#endif\r\n\r\n	#if !defined( USE_SKINNING ) && defined( USE_MORPHNORMALS )\r\n		objectNormal = morphedNormal;\r\n	#endif\r\n\r\n	#if !defined( USE_SKINNING ) && ! defined( USE_MORPHNORMALS )\r\n		objectNormal = normal;\r\n	#endif\r\n\r\n	#ifdef FLIP_SIDED\r\n		objectNormal = -objectNormal;\r\n	#endif\r\n\r\n	vec3 transformedNormal = normalMatrix * objectNormal;\r\n	vNormal = normalize(transformedNormal);\r\n	vec4 mvPosition;\r\n	#ifdef USE_SKINNING\r\n		mvPosition = modelViewMatrix * skinned;\r\n	#endif\r\n\r\n	#if !defined( USE_SKINNING ) && defined( USE_MORPHTARGETS )\r\n		mvPosition = modelViewMatrix * vec4( morphed, 1.0 );\r\n	#endif\r\n\r\n	#if !defined( USE_SKINNING ) && ! defined( USE_MORPHTARGETS )\r\n		mvPosition = modelViewMatrix * vec4( position, 1.0 );\r\n	#endif\r\n\r\n	gl_Position = projectionMatrix * mvPosition;\r\n	vViewPosition = -mvPosition.xyz;\r\n	#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\r\n		#ifdef USE_SKINNING\r\n			vec4 worldPosition = modelMatrix * skinned;\r\n		#endif\r\n\r\n		#if defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )\r\n			vec4 worldPosition = modelMatrix * vec4( morphed, 1.0 );\r\n		#endif\r\n\r\n		#if ! defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )\r\n			vec4 worldPosition = modelMatrix * vec4( position, 1.0 );\r\n		#endif\r\n	#endif\r\n\r\n	#ifndef PHONG_PER_PIXEL\r\n		#if MAX_POINT_LIGHTS > 0\r\n			for( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\r\n				vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\r\n				vec3 lVector = lPosition.xyz - mvPosition.xyz;\r\n				float lDistance = 1.0;\r\n\r\n				if ( pointLightDistance[ i ] > 0.0 )\r\n					lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\r\n					vPointLight[ i ] = vec4( lVector, lDistance );\r\n			}\r\n		#endif\r\n\r\n		#if MAX_SPOT_LIGHTS > 0\r\n			for( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\r\n				vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\r\n				vec3 lVector = lPosition.xyz - mvPosition.xyz;\r\n				float lDistance = 1.0;\r\n\r\n				if ( spotLightDistance[ i ] > 0.0 )\r\n					lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );\r\n					vSpotLight[ i ] = vec4( lVector, lDistance );\r\n			}\r\n		#endif\r\n	#endif\r\n\r\n	#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP )\r\n		vWorldPosition = worldPosition.xyz;\r\n	#endif\r\n}"},/*!***********************************************!*\
  !*** ./src/materials/shaders/BookMaterial.fs ***!
  \***********************************************/
function(n,t){n.exports="uniform vec3 diffuse;\r\nuniform float opacity;\r\nuniform vec3 emissive;\r\nuniform vec3 specular;\r\nuniform float shininess;\r\nuniform sampler2D coverMap;\r\n\r\n#ifdef USE_COLOR\r\n	varying vec3 vColor;\r\n#endif\r\n\r\n#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )\r\n	varying vec2 vUv;\r\n#endif\r\n\r\n#ifdef USE_MAP\r\n	uniform sampler2D map;\r\n#endif\r\n\r\n#ifdef USE_FOG\r\n	uniform vec3 fogColor;\r\n\r\n	#ifdef FOG_EXP2\r\n		uniform float fogDensity;\r\n	#else\r\n		uniform float fogNear;\r\n		uniform float fogFar;\r\n	#endif\r\n#endif\r\n\r\nuniform vec3 ambientLightColor;\r\n#if MAX_DIR_LIGHTS > 0\r\n	uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\r\n	uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\r\n#endif\r\n\r\n#if MAX_HEMI_LIGHTS > 0\r\n	uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\r\n	uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\r\n	uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\r\n#endif\r\n\r\n#if MAX_POINT_LIGHTS > 0\r\n	uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\r\n	#ifdef PHONG_PER_PIXEL\r\n		uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\r\n		uniform float pointLightDistance[ MAX_POINT_LIGHTS ];\r\n	#else\r\n		varying vec4 vPointLight[ MAX_POINT_LIGHTS ];\r\n	#endif\r\n#endif\r\n\r\n#if MAX_SPOT_LIGHTS > 0\r\n	uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\r\n	uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\r\n	uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\r\n	uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\r\n	uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\r\n	#ifdef PHONG_PER_PIXEL\r\n		uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\r\n	#else\r\n		varying vec4 vSpotLight[ MAX_SPOT_LIGHTS ];\r\n	#endif\r\n#endif\r\n\r\n#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP )\r\n	varying vec3 vWorldPosition;\r\n#endif\r\n\r\n#ifdef WRAP_AROUND\r\n	uniform vec3 wrapRGB;\r\n#endif\r\n\r\nvarying vec3 vViewPosition;\r\nvarying vec3 vNormal;\r\n#ifdef USE_BUMPMAP\r\n	uniform sampler2D bumpMap;\r\n	uniform float bumpScale;\r\n	vec2 dHdxy_fwd() {\r\n		vec2 dSTdx = dFdx( vUv );\r\n		vec2 dSTdy = dFdy( vUv );\r\n		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;\r\n		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\r\n		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\r\n		return vec2( dBx, dBy );\r\n	}\r\n\r\n	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\r\n		vec3 vSigmaX = dFdx( surf_pos );\r\n		vec3 vSigmaY = dFdy( surf_pos );\r\n		vec3 vN = surf_norm;\r\n		vec3 R1 = cross( vSigmaY, vN );\r\n		vec3 R2 = cross( vN, vSigmaX );\r\n		float fDet = dot( vSigmaX, R1 );\r\n		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\r\n		return normalize( abs( fDet ) * surf_norm - vGrad );\r\n	}\r\n#endif\r\n\r\n#ifdef USE_SPECULARMAP\r\n	uniform sampler2D specularMap;\r\n#endif\r\n\r\nvoid main() {\r\n	vec4 testcolor = vec4(1.0, 1.0, 1.0, 1.0);\r\n	float eps = 0.004;\r\n	vec4 baseColor  = texture2D(map, vUv);\r\n	#ifdef USE_COVER\r\n		vec4 coverColor = texture2D(coverMap, vUv * vec2(2.3, 1.3) - vec2(1.3, 0.3));\r\n		if(vUv.y > 0.23 && (vUv.x > 0.57 || (all(greaterThanEqual(baseColor,testcolor-eps)) && all(lessThanEqual(baseColor,testcolor+eps)))))\r\n			gl_FragColor = coverColor;\r\n		else\r\n			gl_FragColor = baseColor;\r\n	#else\r\n		gl_FragColor = baseColor;\r\n	#endif\r\n\r\n	float specularStrength;\r\n	#ifdef USE_SPECULARMAP\r\n		vec4 texelSpecular = texture2D( specularMap, vUv );\r\n		specularStrength = texelSpecular.r;\r\n	#else\r\n		specularStrength = 1.0;\r\n	#endif\r\n\r\n	vec3 normal = normalize( vNormal );\r\n	vec3 viewPosition = normalize( vViewPosition );\r\n	#ifdef DOUBLE_SIDED\r\n		normal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\r\n	#endif\r\n\r\n	#ifdef USE_NORMALMAP\r\n		normal = perturbNormal2Arb( -vViewPosition, normal );\r\n	#elif defined( USE_BUMPMAP )\r\n		normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\r\n	#endif\r\n\r\n	#if MAX_POINT_LIGHTS > 0\r\n		vec3 pointDiffuse  = vec3( 0.0 );\r\n		vec3 pointSpecular = vec3( 0.0 );\r\n\r\n		for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\r\n			#ifdef PHONG_PER_PIXEL\r\n				vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\r\n				vec3 lVector = lPosition.xyz + vViewPosition.xyz;\r\n				float lDistance = 1.0;\r\n			\r\n				if ( pointLightDistance[ i ] > 0.0 )\r\n					lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\r\n				lVector = normalize( lVector );\r\n			#else\r\n				vec3 lVector = normalize( vPointLight[ i ].xyz );\r\n				float lDistance = vPointLight[ i ].w;\r\n			#endif\r\n\r\n			float dotProduct = dot( normal, lVector );\r\n			#ifdef WRAP_AROUND\r\n				float pointDiffuseWeightFull = max( dotProduct, 0.0 );\r\n				float pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\r\n				vec3 pointDiffuseWeight = mix( vec3 ( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );\r\n			#else\r\n				float pointDiffuseWeight = max( dotProduct, 0.0 );\r\n			#endif\r\n\r\n			pointDiffuse  += diffuse * pointLightColor[ i ] * pointDiffuseWeight * lDistance;\r\n			vec3 pointHalfVector = normalize( lVector + viewPosition );\r\n			float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );\r\n			float pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, shininess ), 0.0 );\r\n\r\n			#ifdef PHYSICALLY_BASED_SHADING\r\n				float specularNormalization = ( shininess + 2.0001 ) / 8.0;\r\n				vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, pointHalfVector ), 5.0 );\r\n				pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance * specularNormalization;\r\n			#else\r\n				pointSpecular += specular * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance;\r\n			#endif\r\n		}\r\n	#endif\r\n\r\n	#if MAX_SPOT_LIGHTS > 0\r\n		vec3 spotDiffuse  = vec3( 0.0 );\r\n		vec3 spotSpecular = vec3( 0.0 );\r\n		for ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\r\n			#ifdef PHONG_PER_PIXEL\r\n				vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\r\n				vec3 lVector = lPosition.xyz + vViewPosition.xyz;\r\n				float lDistance = 1.0;\r\n\r\n				if ( spotLightDistance[ i ] > 0.0 )\r\n					lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );-\r\n\r\n				lVector = normalize( lVector );\r\n			#else\r\n				vec3 lVector = normalize( vSpotLight[ i ].xyz );\r\n				float lDistance = vSpotLight[ i ].w;\r\n			#endif\r\n\r\n			float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );\r\n			if ( spotEffect > spotLightAngleCos[ i ] ) {\r\n				spotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );\r\n				float dotProduct = dot( normal, lVector );\r\n\r\n				#ifdef WRAP_AROUND\r\n					float spotDiffuseWeightFull = max( dotProduct, 0.0 );\r\n					float spotDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\r\n					vec3 spotDiffuseWeight = mix( vec3 ( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );\r\n				#else\r\n					float spotDiffuseWeight = max( dotProduct, 0.0 );\r\n				#endif\r\n\r\n				spotDiffuse += diffuse * spotLightColor[ i ] * spotDiffuseWeight * lDistance * spotEffect;\r\n				vec3 spotHalfVector = normalize( lVector + viewPosition );\r\n				float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );\r\n				float spotSpecularWeight = specularStrength * max( pow( spotDotNormalHalf, shininess ), 0.0 );\r\n				\r\n				#ifdef PHYSICALLY_BASED_SHADING\r\n					float specularNormalization = ( shininess + 2.0001 ) / 8.0;\r\n					vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, spotHalfVector ), 5.0 );\r\n					spotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * specularNormalization * spotEffect;\r\n				#else\r\n					spotSpecular += specular * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * spotEffect;\r\n				#endif\r\n			}\r\n		}\r\n	#endif\r\n\r\n	#if MAX_DIR_LIGHTS > 0\r\n		vec3 dirDiffuse  = vec3( 0.0 );\r\n		vec3 dirSpecular = vec3( 0.0 );\r\n		\r\n		for( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\r\n			vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\r\n			vec3 dirVector = normalize( lDirection.xyz );\r\n			float dotProduct = dot( normal, dirVector );\r\n			\r\n			#ifdef WRAP_AROUND\r\n				float dirDiffuseWeightFull = max( dotProduct, 0.0 );\r\n				float dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\r\n				vec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );\r\n			#else\r\n				float dirDiffuseWeight = max( dotProduct, 0.0 );\r\n			#endif\r\n\r\n			dirDiffuse  += diffuse * directionalLightColor[ i ] * dirDiffuseWeight;\r\n			vec3 dirHalfVector = normalize( dirVector + viewPosition );\r\n			float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );\r\n			float dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, shininess ), 0.0 );\r\n			\r\n			#ifdef PHYSICALLY_BASED_SHADING\r\n				float specularNormalization = ( shininess + 2.0001 ) / 8.0;\r\n				vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( dirVector, dirHalfVector ), 5.0 );\r\n				dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;\r\n			#else\r\n				dirSpecular += specular * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight;\r\n			#endif\r\n		}\r\n	#endif\r\n\r\n	#if MAX_HEMI_LIGHTS > 0\r\n		vec3 hemiDiffuse  = vec3( 0.0 );\r\n		vec3 hemiSpecular = vec3( 0.0 );\r\n		\r\n		for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\r\n			vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );\r\n			vec3 lVector = normalize( lDirection.xyz );\r\n			float dotProduct = dot( normal, lVector );\r\n			float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\r\n			vec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\r\n			hemiDiffuse += diffuse * hemiColor;\r\n			vec3 hemiHalfVectorSky = normalize( lVector + viewPosition );\r\n			float hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;\r\n			float hemiSpecularWeightSky = specularStrength * max( pow( hemiDotNormalHalfSky, shininess ), 0.0 );\r\n			vec3 lVectorGround = -lVector;\r\n			vec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );\r\n			float hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;\r\n			float hemiSpecularWeightGround = specularStrength * max( pow( hemiDotNormalHalfGround, shininess ), 0.0 );\r\n			\r\n			#ifdef PHYSICALLY_BASED_SHADING\r\n				float dotProductGround = dot( normal, lVectorGround );\r\n				float specularNormalization = ( shininess + 2.0001 ) / 8.0;\r\n				vec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, hemiHalfVectorSky ), 5.0 );\r\n				vec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 5.0 );\r\n				hemiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );\r\n			#else\r\n				hemiSpecular += specular * hemiColor * ( hemiSpecularWeightSky + hemiSpecularWeightGround ) * hemiDiffuseWeight;\r\n			#endif\r\n		}\r\n	#endif\r\n\r\n	vec3 totalDiffuse = vec3( 0.0 );\r\n	vec3 totalSpecular = vec3( 0.0 );\r\n	#if MAX_DIR_LIGHTS > 0\r\n		totalDiffuse += dirDiffuse;\r\n		totalSpecular += dirSpecular;\r\n	#endif\r\n\r\n	#if MAX_HEMI_LIGHTS > 0\r\n		totalDiffuse += hemiDiffuse;\r\n		totalSpecular += hemiSpecular;\r\n	#endif\r\n\r\n	#if MAX_POINT_LIGHTS > 0\r\n		totalDiffuse += pointDiffuse;\r\n		totalSpecular += pointSpecular;\r\n	#endif\r\n\r\n	#if MAX_SPOT_LIGHTS > 0\r\n		totalDiffuse += spotDiffuse;\r\n		totalSpecular += spotSpecular;\r\n	#endif\r\n\r\n	#ifdef METAL\r\n		gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor + totalSpecular );\r\n	#else\r\n		gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor ) + totalSpecular;\r\n	#endif\r\n\r\n	#ifdef USE_COLOR\r\n		gl_FragColor = gl_FragColor * vec4( vColor, 1.0 );\r\n	#endif\r\n\r\n	#ifdef USE_FOG\r\n		float depth = gl_FragCoord.z / gl_FragCoord.w;\r\n		\r\n		#ifdef FOG_EXP2\r\n			const float LOG2 = 1.442695;\r\n			float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\r\n			fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\r\n		#else\r\n			float fogFactor = smoothstep( fogNear, fogFar, depth );\r\n		#endif\r\n\r\n		gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\r\n	#endif\r\n}"},/*!*************************************!*\
  !*** ./src/models/LibraryObject.js ***!
  \*************************************/
function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function i(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function u(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=e(3),f=r(a),c=function(n){function t(n,e,r){return o(this,t),i(this,Object.getPrototypeOf(t).call(this,n,e,r))}return u(t,n),t}(f["default"]);t["default"]=c},/*!************************!*\
  !*** ./src/locator.js ***!
  \************************/
function(n,t,e){"use strict";function r(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t["default"]=n,t}function o(n){return n&&n.__esModule?n:{"default":n}}function i(n){var t=n.geometry.boundingBox,e=j.library.geometry.boundingBox,r=new m["default"].Vector3(t.max.x-t.min.x+.01,0,t.max.z-t.min.z+.01),o=d(j.library.children,r,n),i=c(o,e,t,r);n.position.setX(i.x),n.position.setZ(i.z)}function u(n){return M.getSection(n.model).then(function(n){var t=n.geometry.boundingBox,e=j.library.geometry.boundingBox,r=f(j.library.children,e,t);return r?Promise.resolve(r):Promise.reject("there is no free space")})}function a(n,t){return M.getBook(n.model).then(function(n){var e=t.geometry.boundingBox,r=n.geometry.boundingBox,o=f(t.children,e,r);return o?Promise.resolve(o):Promise.reject("there is no free space")})}function f(n,t,e){var r=new m["default"].Vector3(e.max.x-e.min.x+.01,0,e.max.z-e.min.z+.01),o=d(n,r),i=l(o,t,e,r);return I&&y(i,r,j.library),i}function c(n,t,e,r){var o,i,u=1.3,a={},f={},c=x["default"].getEdges(t,r);for(i=c.minZCell;i<=c.maxZCell;i++)for(o=c.minXCell;o<=c.maxXCell;o++)if((!n[i]||!n[i][o])&&(a.pos=s([o],i,r,t,e),a.length=a.pos.length(),(!f.pos||a.length<f.length)&&(f.pos=a.pos,f.length=a.length),f.pos&&f.length<u))return f.pos;return f.pos}function l(n,t,e,r){var o,i,u,a,f=1,c=0,l=x["default"].getEdges(t,r);for(u=l.minZCell;u<=l.maxZCell;u++)for(i=l.minXCell;i<=l.maxXCell;i++)if(n[u]&&n[u][i])c=0;else if(o=o||i,c++,c===f)return a=w["default"].range(o,o+c),s(a,u,r,t,e);return null}function s(n,t,e,r,o){var i=x["default"].cellToPos(new m["default"].Vector3(n[0],0,t),e),u=new m["default"].Vector3;return u.addVectors(o.min,o.max),u.multiplyScalar(-.5),i.add(u).setY(p(r,o))}function p(n,t){return n.min.y-t.min.y+j.CLEARANCE}function d(n,t,e){var r,o,i,u,a,f,c,l={};return n.forEach(function(n){if(n instanceof P["default"]&&n!==e)for(r=n.boundingBox,o=Math.round((r.center.x-r.radius.x)/t.x),i=Math.round((r.center.x+r.radius.x)/t.x),u=Math.round((r.center.z-r.radius.z)/t.z),a=Math.round((r.center.z+r.radius.z)/t.z),f=u;a>=f;f++){l[f]=l[f]||{};var s=[];for(c=o;i>=c;c++)l[f][c]=!0,s.push(c);I&&(v(n),g(s,t,n,f))}}),l}function h(){M.getSection("bookshelf_0001").then(function(n){I=!0;var t=n.geometry.boundingBox,e=j.library.geometry.boundingBox;f(j.library.children,e,t),I=!1})}function v(n){var t=n.boundingBox,e=new m["default"].Mesh(new m["default"].BoxGeometry(2*t.radius.x,2*t.radius.y+.1,2*t.radius.z),new m["default"].MeshLambertMaterial({color:12303359,opacity:.2,transparent:!0}));e.position.x=t.center.x,e.position.y=t.center.y,e.position.z=t.center.z,n.parent.add(e)}function g(n,t,e,r){n.forEach(function(n){var o=s([n],r,t,e.parent.geometry.boundingBox,e.geometry.boundingBox),i=new m["default"].Mesh(new m["default"].BoxGeometry(t.x-.01,.01,t.z-.01),new m["default"].MeshLambertMaterial({color:16711680}));i.position.set(o.x,o.y,o.z),e.parent.add(i)})}function y(n,t,e){if(n){var r=new m["default"].Mesh(new m["default"].BoxGeometry(t.x,.5,t.z),new m["default"].MeshLambertMaterial({color:65280}));r.position.set(n.x,n.y,n.z),e.parent.add(r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.centerObject=i,t.placeSection=u,t.placeBook=a,t.debug=h;var _=e(2),m=o(_),b=e(16),w=o(b),A=e(18),x=o(A),S=e(3),P=o(S),O=e(19),M=r(O),E=e(10),j=r(E),I=!1},/*!***************************!*\
  !*** ./~/lodash/index.js ***!
  \***************************/
function(n,t,e){var r;(function(n,o){(function(){function i(n,t){if(n!==t){var e=null===n,r=n===M,o=n===n,i=null===t,u=t===M,a=t===t;if(n>t&&!i||!o||e&&!u&&a||r&&a)return 1;if(t>n&&!e||!a||i&&!r&&o||u&&o)return-1}return 0}function u(n,t,e){for(var r=n.length,o=e?r:-1;e?o--:++o<r;)if(t(n[o],o,n))return o;return-1}function a(n,t,e){if(t!==t)return _(n,e);for(var r=e-1,o=n.length;++r<o;)if(n[r]===t)return r;return-1}function f(n){return"function"==typeof n||!1}function c(n){return null==n?"":n+""}function l(n,t){for(var e=-1,r=n.length;++e<r&&t.indexOf(n.charAt(e))>-1;);return e}function s(n,t){for(var e=n.length;e--&&t.indexOf(n.charAt(e))>-1;);return e}function p(n,t){return i(n.criteria,t.criteria)||n.index-t.index}function d(n,t,e){for(var r=-1,o=n.criteria,u=t.criteria,a=o.length,f=e.length;++r<a;){var c=i(o[r],u[r]);if(c){if(r>=f)return c;var l=e[r];return c*("asc"===l||l===!0?1:-1)}}return n.index-t.index}function h(n){return Zn[n]}function v(n){return Jn[n]}function g(n,t,e){return t?n=Kn[n]:e&&(n=qn[n]),"\\"+n}function y(n){return"\\"+qn[n]}function _(n,t,e){for(var r=n.length,o=t+(e?0:-1);e?o--:++o<r;){var i=n[o];if(i!==i)return o}return-1}function m(n){return!!n&&"object"==typeof n}function b(n){return 160>=n&&n>=9&&13>=n||32==n||160==n||5760==n||6158==n||n>=8192&&(8202>=n||8232==n||8233==n||8239==n||8287==n||12288==n||65279==n)}function w(n,t){for(var e=-1,r=n.length,o=-1,i=[];++e<r;)n[e]===t&&(n[e]=F,i[++o]=e);return i}function A(n,t){for(var e,r=-1,o=n.length,i=-1,u=[];++r<o;){var a=n[r],f=t?t(a,r,n):a;r&&e===f||(e=f,u[++i]=a)}return u}function x(n){for(var t=-1,e=n.length;++t<e&&b(n.charCodeAt(t)););return t}function S(n){for(var t=n.length;t--&&b(n.charCodeAt(t)););return t}function P(n){return Yn[n]}function O(n){function t(n){if(m(n)&&!ja(n)&&!(n instanceof o)){if(n instanceof r)return n;if(tu.call(n,"__chain__")&&tu.call(n,"__wrapped__"))return dr(n)}return new r(n)}function e(){}function r(n,t,e){this.__wrapped__=n,this.__actions__=e||[],this.__chain__=!!t}function o(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Eu,this.__views__=[]}function b(){var n=new o(this.__wrapped__);return n.__actions__=tt(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=tt(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=tt(this.__views__),n}function $(){if(this.__filtered__){var n=new o(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function rn(){var n=this.__wrapped__.value(),t=this.__dir__,e=ja(n),r=0>t,o=e?n.length:0,i=Fe(0,o,this.__views__),u=i.start,a=i.end,f=a-u,c=r?a:u-1,l=this.__iteratees__,s=l.length,p=0,d=xu(f,this.__takeCount__);if(!e||z>o||o==f&&d==f)return re(r&&e?n.reverse():n,this.__actions__);var h=[];n:for(;f--&&d>p;){c+=t;for(var v=-1,g=n[c];++v<s;){var y=l[v],_=y.iteratee,m=y.type,b=_(g);if(m==W)g=b;else if(!b){if(m==X)continue n;break n}}h[p++]=g}return h}function un(){this.__data__={}}function Zn(n){return this.has(n)&&delete this.__data__[n]}function Jn(n){return"__proto__"==n?M:this.__data__[n]}function Yn(n){return"__proto__"!=n&&tu.call(this.__data__,n)}function Qn(n,t){return"__proto__"!=n&&(this.__data__[n]=t),this}function Kn(n){var t=n?n.length:0;for(this.data={hash:yu(null),set:new su};t--;)this.push(n[t])}function qn(n,t){var e=n.data,r="string"==typeof t||To(t)?e.set.has(t):e.hash[t];return r?0:-1}function $n(n){var t=this.data;"string"==typeof n||To(n)?t.set.add(n):t.hash[n]=!0}function nt(n,t){for(var e=-1,r=n.length,o=-1,i=t.length,u=Ni(r+i);++e<r;)u[e]=n[e];for(;++o<i;)u[e++]=t[o];return u}function tt(n,t){var e=-1,r=n.length;for(t||(t=Ni(r));++e<r;)t[e]=n[e];return t}function et(n,t){for(var e=-1,r=n.length;++e<r&&t(n[e],e,n)!==!1;);return n}function rt(n,t){for(var e=n.length;e--&&t(n[e],e,n)!==!1;);return n}function ut(n,t){for(var e=-1,r=n.length;++e<r;)if(!t(n[e],e,n))return!1;return!0}function at(n,t,e,r){for(var o=-1,i=n.length,u=r,a=u;++o<i;){var f=n[o],c=+t(f);e(c,u)&&(u=c,a=f)}return a}function ft(n,t){for(var e=-1,r=n.length,o=-1,i=[];++e<r;){var u=n[e];t(u,e,n)&&(i[++o]=u)}return i}function ct(n,t){for(var e=-1,r=n.length,o=Ni(r);++e<r;)o[e]=t(n[e],e,n);return o}function lt(n,t){for(var e=-1,r=t.length,o=n.length;++e<r;)n[o+e]=t[e];return n}function st(n,t,e,r){var o=-1,i=n.length;for(r&&i&&(e=n[++o]);++o<i;)e=t(e,n[o],o,n);return e}function pt(n,t,e,r){var o=n.length;for(r&&o&&(e=n[--o]);o--;)e=t(e,n[o],o,n);return e}function dt(n,t){for(var e=-1,r=n.length;++e<r;)if(t(n[e],e,n))return!0;return!1}function ht(n,t){for(var e=n.length,r=0;e--;)r+=+t(n[e])||0;return r}function vt(n,t){return n===M?t:n}function gt(n,t,e,r){return n!==M&&tu.call(r,e)?n:t}function yt(n,t,e){for(var r=-1,o=Ua(t),i=o.length;++r<i;){var u=o[r],a=n[u],f=e(a,t[u],u,n,t);(f===f?f===a:a!==a)&&(a!==M||u in n)||(n[u]=f)}return n}function _t(n,t){return null==t?n:bt(t,Ua(t),n)}function mt(n,t){for(var e=-1,r=null==n,o=!r&&Ke(n),i=o?n.length:0,u=t.length,a=Ni(u);++e<u;){var f=t[e];o?a[e]=qe(f,i)?n[f]:M:a[e]=r?M:n[f]}return a}function bt(n,t,e){e||(e={});for(var r=-1,o=t.length;++r<o;){var i=t[r];e[i]=n[i]}return e}function wt(n,t,e){var r=typeof n;return"function"==r?t===M?n:ue(n,t,e):null==n?Ei:"object"==r?Ut(n):t===M?Li(n):Nt(n,t)}function At(n,t,e,r,o,i,u){var a;if(e&&(a=o?e(n,r,o):e(n)),a!==M)return a;if(!To(n))return n;var f=ja(n);if(f){if(a=Ze(n),!t)return tt(n,a)}else{var c=ru.call(n),l=c==q;if(c!=tn&&c!=Z&&(!l||o))return Fn[c]?Ye(n,c,t):o?n:{};if(a=Je(l?{}:n),!t)return _t(a,n)}i||(i=[]),u||(u=[]);for(var s=i.length;s--;)if(i[s]==n)return u[s];return i.push(n),u.push(a),(f?et:Bt)(n,function(r,o){a[o]=At(r,t,e,o,n,i,u)}),a}function xt(n,t,e){if("function"!=typeof n)throw new Qi(V);return pu(function(){n.apply(M,e)},t)}function St(n,t){var e=n?n.length:0,r=[];if(!e)return r;var o=-1,i=Xe(),u=i==a,f=u&&t.length>=z?ve(t):null,c=t.length;f&&(i=qn,u=!1,t=f);n:for(;++o<e;){var l=n[o];if(u&&l===l){for(var s=c;s--;)if(t[s]===l)continue n;r.push(l)}else i(t,l,0)<0&&r.push(l)}return r}function Pt(n,t){var e=!0;return ku(n,function(n,r,o){return e=!!t(n,r,o)}),e}function Ot(n,t,e,r){var o=r,i=o;return ku(n,function(n,u,a){var f=+t(n,u,a);(e(f,o)||f===r&&f===i)&&(o=f,i=n)}),i}function Mt(n,t,e,r){var o=n.length;for(e=null==e?0:+e||0,0>e&&(e=-e>o?0:o+e),r=r===M||r>o?o:+r||0,0>r&&(r+=o),o=e>r?0:r>>>0,e>>>=0;o>e;)n[e++]=t;return n}function Et(n,t){var e=[];return ku(n,function(n,r,o){t(n,r,o)&&e.push(n)}),e}function jt(n,t,e,r){var o;return e(n,function(n,e,i){return t(n,e,i)?(o=r?e:n,!1):void 0}),o}function It(n,t,e,r){r||(r=[]);for(var o=-1,i=n.length;++o<i;){var u=n[o];m(u)&&Ke(u)&&(e||ja(u)||Oo(u))?t?It(u,t,e,r):lt(r,u):e||(r[r.length]=u)}return r}function Ct(n,t){return Hu(n,t,ti)}function Bt(n,t){return Hu(n,t,Ua)}function Dt(n,t){return Ru(n,t,Ua)}function Lt(n,t){for(var e=-1,r=t.length,o=-1,i=[];++e<r;){var u=t[e];Lo(n[u])&&(i[++o]=u)}return i}function Tt(n,t,e){if(null!=n){e!==M&&e in sr(n)&&(t=[e]);for(var r=0,o=t.length;null!=n&&o>r;)n=n[t[r++]];return r&&r==o?n:M}}function kt(n,t,e,r,o,i){return n===t?!0:null==n||null==t||!To(n)&&!m(t)?n!==n&&t!==t:Gt(n,t,kt,e,r,o,i)}function Gt(n,t,e,r,o,i,u){var a=ja(n),f=ja(t),c=J,l=J;a||(c=ru.call(n),c==Z?c=tn:c!=tn&&(a=Wo(n))),f||(l=ru.call(t),l==Z?l=tn:l!=tn&&(f=Wo(t)));var s=c==tn,p=l==tn,d=c==l;if(d&&!a&&!s)return Re(n,t,c);if(!o){var h=s&&tu.call(n,"__wrapped__"),v=p&&tu.call(t,"__wrapped__");if(h||v)return e(h?n.value():n,v?t.value():t,r,o,i,u)}if(!d)return!1;i||(i=[]),u||(u=[]);for(var g=i.length;g--;)if(i[g]==n)return u[g]==t;i.push(n),u.push(t);var y=(a?He:Ue)(n,t,e,r,o,i,u);return i.pop(),u.pop(),y}function Ht(n,t,e){var r=t.length,o=r,i=!e;if(null==n)return!o;for(n=sr(n);r--;){var u=t[r];if(i&&u[2]?u[1]!==n[u[0]]:!(u[0]in n))return!1}for(;++r<o;){u=t[r];var a=u[0],f=n[a],c=u[1];if(i&&u[2]){if(f===M&&!(a in n))return!1}else{var l=e?e(f,c,a):M;if(!(l===M?kt(c,f,e,!0):l))return!1}}return!0}function Rt(n,t){var e=-1,r=Ke(n)?Ni(n.length):[];return ku(n,function(n,o,i){r[++e]=t(n,o,i)}),r}function Ut(n){var t=We(n);if(1==t.length&&t[0][2]){var e=t[0][0],r=t[0][1];return function(n){return null==n?!1:n[e]===r&&(r!==M||e in sr(n))}}return function(n){return Ht(n,t)}}function Nt(n,t){var e=ja(n),r=nr(n)&&rr(t),o=n+"";return n=pr(n),function(i){if(null==i)return!1;var u=o;if(i=sr(i),(e||!r)&&!(u in i)){if(i=1==n.length?i:Tt(i,Yt(n,0,-1)),null==i)return!1;u=Or(n),i=sr(i)}return i[u]===t?t!==M||u in i:kt(t,i[u],M,!0)}}function zt(n,t,e,r,o){if(!To(n))return n;var i=Ke(t)&&(ja(t)||Wo(t)),u=i?M:Ua(t);return et(u||t,function(a,f){if(u&&(f=a,a=t[f]),m(a))r||(r=[]),o||(o=[]),Xt(n,t,f,zt,e,r,o);else{var c=n[f],l=e?e(c,a,f,n,t):M,s=l===M;s&&(l=a),l===M&&(!i||f in n)||!s&&(l===l?l===c:c!==c)||(n[f]=l)}}),n}function Xt(n,t,e,r,o,i,u){for(var a=i.length,f=t[e];a--;)if(i[a]==f)return void(n[e]=u[a]);var c=n[e],l=o?o(c,f,e,n,t):M,s=l===M;s&&(l=f,Ke(f)&&(ja(f)||Wo(f))?l=ja(c)?c:Ke(c)?tt(c):[]:No(f)||Oo(f)?l=Oo(c)?Yo(c):No(c)?c:{}:s=!1),i.push(f),u.push(l),s?n[e]=r(l,f,o,i,u):(l===l?l!==c:c===c)&&(n[e]=l)}function Wt(n){return function(t){return null==t?M:t[n]}}function Vt(n){var t=n+"";return n=pr(n),function(e){return Tt(e,n,t)}}function Ft(n,t){for(var e=n?t.length:0;e--;){var r=t[e];if(r!=o&&qe(r)){var o=r;du.call(n,r,1)}}return n}function Zt(n,t){return n+_u(Ou()*(t-n+1))}function Jt(n,t,e,r,o){return o(n,function(n,o,i){e=r?(r=!1,n):t(e,n,o,i)}),e}function Yt(n,t,e){var r=-1,o=n.length;t=null==t?0:+t||0,0>t&&(t=-t>o?0:o+t),e=e===M||e>o?o:+e||0,0>e&&(e+=o),o=t>e?0:e-t>>>0,t>>>=0;for(var i=Ni(o);++r<o;)i[r]=n[r+t];return i}function Qt(n,t){var e;return ku(n,function(n,r,o){return e=t(n,r,o),!e}),!!e}function Kt(n,t){var e=n.length;for(n.sort(t);e--;)n[e]=n[e].value;return n}function qt(n,t,e){var r=Ne(),o=-1;t=ct(t,function(n){return r(n)});var i=Rt(n,function(n){var e=ct(t,function(t){return t(n)});return{criteria:e,index:++o,value:n}});return Kt(i,function(n,t){return d(n,t,e)})}function $t(n,t){var e=0;return ku(n,function(n,r,o){e+=+t(n,r,o)||0}),e}function ne(n,t){var e=-1,r=Xe(),o=n.length,i=r==a,u=i&&o>=z,f=u?ve():null,c=[];f?(r=qn,i=!1):(u=!1,f=t?[]:c);n:for(;++e<o;){var l=n[e],s=t?t(l,e,n):l;if(i&&l===l){for(var p=f.length;p--;)if(f[p]===s)continue n;t&&f.push(s),c.push(l)}else r(f,s,0)<0&&((t||u)&&f.push(s),c.push(l))}return c}function te(n,t){for(var e=-1,r=t.length,o=Ni(r);++e<r;)o[e]=n[t[e]];return o}function ee(n,t,e,r){for(var o=n.length,i=r?o:-1;(r?i--:++i<o)&&t(n[i],i,n););return e?Yt(n,r?0:i,r?i+1:o):Yt(n,r?i+1:0,r?o:i)}function re(n,t){var e=n;e instanceof o&&(e=e.value());for(var r=-1,i=t.length;++r<i;){var u=t[r];e=u.func.apply(u.thisArg,lt([e],u.args))}return e}function oe(n,t,e){var r=0,o=n?n.length:r;if("number"==typeof t&&t===t&&Cu>=o){for(;o>r;){var i=r+o>>>1,u=n[i];(e?t>=u:t>u)&&null!==u?r=i+1:o=i}return o}return ie(n,t,Ei,e)}function ie(n,t,e,r){t=e(t);for(var o=0,i=n?n.length:0,u=t!==t,a=null===t,f=t===M;i>o;){var c=_u((o+i)/2),l=e(n[c]),s=l!==M,p=l===l;if(u)var d=p||r;else d=a?p&&s&&(r||null!=l):f?p&&(r||s):null==l?!1:r?t>=l:t>l;d?o=c+1:i=c}return xu(i,Iu)}function ue(n,t,e){if("function"!=typeof n)return Ei;if(t===M)return n;switch(e){case 1:return function(e){return n.call(t,e)};case 3:return function(e,r,o){return n.call(t,e,r,o)};case 4:return function(e,r,o,i){return n.call(t,e,r,o,i)};case 5:return function(e,r,o,i,u){return n.call(t,e,r,o,i,u)}}return function(){return n.apply(t,arguments)}}function ae(n){var t=new uu(n.byteLength),e=new hu(t);return e.set(new hu(n)),t}function fe(n,t,e){for(var r=e.length,o=-1,i=Au(n.length-r,0),u=-1,a=t.length,f=Ni(a+i);++u<a;)f[u]=t[u];for(;++o<r;)f[e[o]]=n[o];for(;i--;)f[u++]=n[o++];return f}function ce(n,t,e){for(var r=-1,o=e.length,i=-1,u=Au(n.length-o,0),a=-1,f=t.length,c=Ni(u+f);++i<u;)c[i]=n[i];for(var l=i;++a<f;)c[l+a]=t[a];for(;++r<o;)c[l+e[r]]=n[i++];return c}function le(n,t){return function(e,r,o){var i=t?t():{};if(r=Ne(r,o,3),ja(e))for(var u=-1,a=e.length;++u<a;){var f=e[u];n(i,f,r(f,u,e),e)}else ku(e,function(t,e,o){n(i,t,r(t,e,o),o)});return i}}function se(n){return _o(function(t,e){var r=-1,o=null==t?0:e.length,i=o>2?e[o-2]:M,u=o>2?e[2]:M,a=o>1?e[o-1]:M;for("function"==typeof i?(i=ue(i,a,5),o-=2):(i="function"==typeof a?a:M,o-=i?1:0),u&&$e(e[0],e[1],u)&&(i=3>o?M:i,o=1);++r<o;){var f=e[r];f&&n(t,f,i)}return t})}function pe(n,t){return function(e,r){var o=e?zu(e):0;if(!er(o))return n(e,r);for(var i=t?o:-1,u=sr(e);(t?i--:++i<o)&&r(u[i],i,u)!==!1;);return e}}function de(n){return function(t,e,r){for(var o=sr(t),i=r(t),u=i.length,a=n?u:-1;n?a--:++a<u;){var f=i[a];if(e(o[f],f,o)===!1)break}return t}}function he(n,t){function e(){var o=this&&this!==ot&&this instanceof e?r:n;return o.apply(t,arguments)}var r=ye(n);return e}function ve(n){return yu&&su?new Kn(n):null}function ge(n){return function(t){for(var e=-1,r=Pi(si(t)),o=r.length,i="";++e<o;)i=n(i,r[e],e);return i}}function ye(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var e=Tu(n.prototype),r=n.apply(e,t);return To(r)?r:e}}function _e(n){function t(e,r,o){o&&$e(e,r,o)&&(r=M);var i=Ge(e,n,M,M,M,M,M,r);return i.placeholder=t.placeholder,i}return t}function me(n,t){return _o(function(e){var r=e[0];return null==r?r:(e.push(t),n.apply(M,e))})}function be(n,t){return function(e,r,o){if(o&&$e(e,r,o)&&(r=M),r=Ne(r,o,3),1==r.length){e=ja(e)?e:lr(e);var i=at(e,r,n,t);if(!e.length||i!==t)return i}return Ot(e,r,n,t)}}function we(n,t){return function(e,r,o){if(r=Ne(r,o,3),ja(e)){var i=u(e,r,t);return i>-1?e[i]:M}return jt(e,r,n)}}function Ae(n){return function(t,e,r){return t&&t.length?(e=Ne(e,r,3),u(t,e,n)):-1}}function xe(n){return function(t,e,r){return e=Ne(e,r,3),jt(t,e,n,!0)}}function Se(n){return function(){for(var t,e=arguments.length,o=n?e:-1,i=0,u=Ni(e);n?o--:++o<e;){var a=u[i++]=arguments[o];if("function"!=typeof a)throw new Qi(V);!t&&r.prototype.thru&&"wrapper"==ze(a)&&(t=new r([],!0))}for(o=t?-1:e;++o<e;){a=u[o];var f=ze(a),c="wrapper"==f?Nu(a):M;t=c&&tr(c[0])&&c[1]==(k|B|L|G)&&!c[4].length&&1==c[9]?t[ze(c[0])].apply(t,c[3]):1==a.length&&tr(a)?t[f]():t.thru(a)}return function(){var n=arguments,r=n[0];if(t&&1==n.length&&ja(r)&&r.length>=z)return t.plant(r).value();for(var o=0,i=e?u[o].apply(this,n):r;++o<e;)i=u[o].call(this,i);return i}}}function Pe(n,t){return function(e,r,o){return"function"==typeof r&&o===M&&ja(e)?n(e,r):t(e,ue(r,o,3))}}function Oe(n){return function(t,e,r){return("function"!=typeof e||r!==M)&&(e=ue(e,r,3)),n(t,e,ti)}}function Me(n){return function(t,e,r){return("function"!=typeof e||r!==M)&&(e=ue(e,r,3)),n(t,e)}}function Ee(n){return function(t,e,r){var o={};return e=Ne(e,r,3),Bt(t,function(t,r,i){var u=e(t,r,i);r=n?u:r,t=n?t:u,o[r]=t}),o}}function je(n){return function(t,e,r){return t=c(t),(n?t:"")+De(t,e,r)+(n?"":t)}}function Ie(n){var t=_o(function(e,r){var o=w(r,t.placeholder);return Ge(e,n,M,r,o)});return t}function Ce(n,t){return function(e,r,o,i){var u=arguments.length<3;return"function"==typeof r&&i===M&&ja(e)?n(e,r,o,u):Jt(e,Ne(r,i,4),o,u,t)}}function Be(n,t,e,r,o,i,u,a,f,c){function l(){for(var _=arguments.length,m=_,b=Ni(_);m--;)b[m]=arguments[m];if(r&&(b=fe(b,r,o)),i&&(b=ce(b,i,u)),h||g){var A=l.placeholder,x=w(b,A);if(_-=x.length,c>_){var S=a?tt(a):M,P=Au(c-_,0),O=h?x:M,E=h?M:x,C=h?b:M,B=h?M:b;t|=h?L:T,t&=~(h?T:L),v||(t&=~(j|I));var D=[n,t,e,C,O,B,E,S,f,P],k=Be.apply(M,D);return tr(n)&&Xu(k,D),k.placeholder=A,k}}var G=p?e:this,H=d?G[n]:n;return a&&(b=fr(b,a)),s&&f<b.length&&(b.length=f),this&&this!==ot&&this instanceof l&&(H=y||ye(n)),H.apply(G,b)}var s=t&k,p=t&j,d=t&I,h=t&B,v=t&C,g=t&D,y=d?M:ye(n);return l}function De(n,t,e){var r=n.length;if(t=+t,r>=t||!bu(t))return"";var o=t-r;return e=null==e?" ":e+"",yi(e,gu(o/e.length)).slice(0,o)}function Le(n,t,e,r){function o(){for(var t=-1,a=arguments.length,f=-1,c=r.length,l=Ni(c+a);++f<c;)l[f]=r[f];for(;a--;)l[f++]=arguments[++t];var s=this&&this!==ot&&this instanceof o?u:n;return s.apply(i?e:this,l)}var i=t&j,u=ye(n);return o}function Te(n){var t=Vi[n];return function(n,e){return e=e===M?0:+e||0,e?(e=cu(10,e),t(n*e)/e):t(n)}}function ke(n){return function(t,e,r,o){var i=Ne(r);return null==r&&i===wt?oe(t,e,n):ie(t,e,i(r,o,1),n)}}function Ge(n,t,e,r,o,i,u,a){var f=t&I;if(!f&&"function"!=typeof n)throw new Qi(V);var c=r?r.length:0;if(c||(t&=~(L|T),r=o=M),c-=o?o.length:0,t&T){var l=r,s=o;r=o=M}var p=f?M:Nu(n),d=[n,t,e,r,o,l,s,i,u,a];if(p&&(or(d,p),t=d[1],a=d[9]),d[9]=null==a?f?0:n.length:Au(a-c,0)||0,t==j)var h=he(d[0],d[2]);else h=t!=L&&t!=(j|L)||d[4].length?Be.apply(M,d):Le.apply(M,d);var v=p?Uu:Xu;return v(h,d)}function He(n,t,e,r,o,i,u){var a=-1,f=n.length,c=t.length;if(f!=c&&!(o&&c>f))return!1;for(;++a<f;){var l=n[a],s=t[a],p=r?r(o?s:l,o?l:s,a):M;if(p!==M){if(p)continue;return!1}if(o){if(!dt(t,function(n){return l===n||e(l,n,r,o,i,u)}))return!1}else if(l!==s&&!e(l,s,r,o,i,u))return!1}return!0}function Re(n,t,e){switch(e){case Y:case Q:return+n==+t;case K:return n.name==t.name&&n.message==t.message;case nn:return n!=+n?t!=+t:n==+t;case en:case on:return n==t+""}return!1}function Ue(n,t,e,r,o,i,u){var a=Ua(n),f=a.length,c=Ua(t),l=c.length;if(f!=l&&!o)return!1;for(var s=f;s--;){var p=a[s];if(!(o?p in t:tu.call(t,p)))return!1}for(var d=o;++s<f;){p=a[s];var h=n[p],v=t[p],g=r?r(o?v:h,o?h:v,p):M;if(!(g===M?e(h,v,r,o,i,u):g))return!1;d||(d="constructor"==p)}if(!d){var y=n.constructor,_=t.constructor;if(y!=_&&"constructor"in n&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _))return!1}return!0}function Ne(n,e,r){var o=t.callback||Oi;return o=o===Oi?wt:o,r?o(n,e,r):o}function ze(n){for(var t=n.name,e=Lu[t],r=e?e.length:0;r--;){var o=e[r],i=o.func;if(null==i||i==n)return o.name}return t}function Xe(n,e,r){var o=t.indexOf||Sr;return o=o===Sr?a:o,n?o(n,e,r):o}function We(n){for(var t=ei(n),e=t.length;e--;)t[e][2]=rr(t[e][1]);return t}function Ve(n,t){var e=null==n?M:n[t];return Ho(e)?e:M}function Fe(n,t,e){for(var r=-1,o=e.length;++r<o;){var i=e[r],u=i.size;switch(i.type){case"drop":n+=u;break;case"dropRight":t-=u;break;case"take":t=xu(t,n+u);break;case"takeRight":n=Au(n,t-u)}}return{start:n,end:t}}function Ze(n){var t=n.length,e=new n.constructor(t);return t&&"string"==typeof n[0]&&tu.call(n,"index")&&(e.index=n.index,e.input=n.input),e}function Je(n){var t=n.constructor;return"function"==typeof t&&t instanceof t||(t=Zi),new t}function Ye(n,t,e){var r=n.constructor;switch(t){case an:return ae(n);case Y:case Q:return new r(+n);case fn:case cn:case ln:case sn:case pn:case dn:case hn:case vn:case gn:var o=n.buffer;return new r(e?ae(o):o,n.byteOffset,n.length);case nn:case on:return new r(n);case en:var i=new r(n.source,Tn.exec(n));i.lastIndex=n.lastIndex}return i}function Qe(n,t,e){null==n||nr(t,n)||(t=pr(t),n=1==t.length?n:Tt(n,Yt(t,0,-1)),t=Or(t));var r=null==n?n:n[t];return null==r?M:r.apply(n,e)}function Ke(n){return null!=n&&er(zu(n))}function qe(n,t){return n="number"==typeof n||Hn.test(n)?+n:-1,t=null==t?Bu:t,n>-1&&n%1==0&&t>n}function $e(n,t,e){if(!To(e))return!1;var r=typeof t;if("number"==r?Ke(e)&&qe(t,e.length):"string"==r&&t in e){var o=e[t];return n===n?n===o:o!==o}return!1}function nr(n,t){var e=typeof n;if("string"==e&&En.test(n)||"number"==e)return!0;if(ja(n))return!1;var r=!Mn.test(n);return r||null!=t&&n in sr(t)}function tr(n){var e=ze(n);if(!(e in o.prototype))return!1;var r=t[e];if(n===r)return!0;var i=Nu(r);return!!i&&n===i[0]}function er(n){return"number"==typeof n&&n>-1&&n%1==0&&Bu>=n}function rr(n){return n===n&&!To(n)}function or(n,t){var e=n[1],r=t[1],o=e|r,i=k>o,u=r==k&&e==B||r==k&&e==G&&n[7].length<=t[8]||r==(k|G)&&e==B;if(!i&&!u)return n;r&j&&(n[2]=t[2],o|=e&j?0:C);var a=t[3];if(a){var f=n[3];n[3]=f?fe(f,a,t[4]):tt(a),n[4]=f?w(n[3],F):tt(t[4])}return a=t[5],a&&(f=n[5],n[5]=f?ce(f,a,t[6]):tt(a),n[6]=f?w(n[5],F):tt(t[6])),a=t[7],a&&(n[7]=tt(a)),r&k&&(n[8]=null==n[8]?t[8]:xu(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=o,n}function ir(n,t){return n===M?t:Ia(n,t,ir)}function ur(n,t){n=sr(n);for(var e=-1,r=t.length,o={};++e<r;){var i=t[e];i in n&&(o[i]=n[i])}return o}function ar(n,t){var e={};return Ct(n,function(n,r,o){t(n,r,o)&&(e[r]=n)}),e}function fr(n,t){for(var e=n.length,r=xu(t.length,e),o=tt(n);r--;){var i=t[r];n[r]=qe(i,e)?o[i]:M}return n}function cr(n){for(var t=ti(n),e=t.length,r=e&&n.length,o=!!r&&er(r)&&(ja(n)||Oo(n)),i=-1,u=[];++i<e;){var a=t[i];(o&&qe(a,r)||tu.call(n,a))&&u.push(a)}return u}function lr(n){return null==n?[]:Ke(n)?To(n)?n:Zi(n):ui(n)}function sr(n){return To(n)?n:Zi(n)}function pr(n){if(ja(n))return n;var t=[];return c(n).replace(jn,function(n,e,r,o){t.push(r?o.replace(Dn,"$1"):e||n)}),t}function dr(n){return n instanceof o?n.clone():new r(n.__wrapped__,n.__chain__,tt(n.__actions__))}function hr(n,t,e){t=(e?$e(n,t,e):null==t)?1:Au(_u(t)||1,1);for(var r=0,o=n?n.length:0,i=-1,u=Ni(gu(o/t));o>r;)u[++i]=Yt(n,r,r+=t);return u}function vr(n){for(var t=-1,e=n?n.length:0,r=-1,o=[];++t<e;){var i=n[t];i&&(o[++r]=i)}return o}function gr(n,t,e){var r=n?n.length:0;return r?((e?$e(n,t,e):null==t)&&(t=1),Yt(n,0>t?0:t)):[]}function yr(n,t,e){var r=n?n.length:0;return r?((e?$e(n,t,e):null==t)&&(t=1),t=r-(+t||0),Yt(n,0,0>t?0:t)):[]}function _r(n,t,e){return n&&n.length?ee(n,Ne(t,e,3),!0,!0):[]}function mr(n,t,e){return n&&n.length?ee(n,Ne(t,e,3),!0):[]}function br(n,t,e,r){var o=n?n.length:0;return o?(e&&"number"!=typeof e&&$e(n,t,e)&&(e=0,r=o),Mt(n,t,e,r)):[]}function wr(n){return n?n[0]:M}function Ar(n,t,e){var r=n?n.length:0;return e&&$e(n,t,e)&&(t=!1),r?It(n,t):[]}function xr(n){var t=n?n.length:0;return t?It(n,!0):[]}function Sr(n,t,e){var r=n?n.length:0;if(!r)return-1;if("number"==typeof e)e=0>e?Au(r+e,0):e;else if(e){var o=oe(n,t);return r>o&&(t===t?t===n[o]:n[o]!==n[o])?o:-1}return a(n,t,e||0)}function Pr(n){return yr(n,1)}function Or(n){var t=n?n.length:0;return t?n[t-1]:M}function Mr(n,t,e){var r=n?n.length:0;if(!r)return-1;var o=r;if("number"==typeof e)o=(0>e?Au(r+e,0):xu(e||0,r-1))+1;else if(e){o=oe(n,t,!0)-1;var i=n[o];return(t===t?t===i:i!==i)?o:-1}if(t!==t)return _(n,o,!0);for(;o--;)if(n[o]===t)return o;return-1}function Er(){var n=arguments,t=n[0];if(!t||!t.length)return t;for(var e=0,r=Xe(),o=n.length;++e<o;)for(var i=0,u=n[e];(i=r(t,u,i))>-1;)du.call(t,i,1);return t}function jr(n,t,e){var r=[];if(!n||!n.length)return r;var o=-1,i=[],u=n.length;for(t=Ne(t,e,3);++o<u;){var a=n[o];t(a,o,n)&&(r.push(a),i.push(o))}return Ft(n,i),r}function Ir(n){return gr(n,1)}function Cr(n,t,e){var r=n?n.length:0;return r?(e&&"number"!=typeof e&&$e(n,t,e)&&(t=0,e=r),Yt(n,t,e)):[]}function Br(n,t,e){var r=n?n.length:0;return r?((e?$e(n,t,e):null==t)&&(t=1),Yt(n,0,0>t?0:t)):[]}function Dr(n,t,e){var r=n?n.length:0;return r?((e?$e(n,t,e):null==t)&&(t=1),t=r-(+t||0),Yt(n,0>t?0:t)):[]}function Lr(n,t,e){return n&&n.length?ee(n,Ne(t,e,3),!1,!0):[]}function Tr(n,t,e){return n&&n.length?ee(n,Ne(t,e,3)):[]}function kr(n,t,e,r){var o=n?n.length:0;if(!o)return[];null!=t&&"boolean"!=typeof t&&(r=e,e=$e(n,t,r)?M:t,t=!1);var i=Ne();return(null!=e||i!==wt)&&(e=i(e,r,3)),t&&Xe()==a?A(n,e):ne(n,e)}function Gr(n){if(!n||!n.length)return[];var t=-1,e=0;n=ft(n,function(n){return Ke(n)?(e=Au(n.length,e),!0):void 0});for(var r=Ni(e);++t<e;)r[t]=ct(n,Wt(t));return r}function Hr(n,t,e){var r=n?n.length:0;if(!r)return[];var o=Gr(n);return null==t?o:(t=ue(t,e,4),ct(o,function(n){return st(n,t,M,!0)}))}function Rr(){for(var n=-1,t=arguments.length;++n<t;){var e=arguments[n];if(Ke(e))var r=r?lt(St(r,e),St(e,r)):e}return r?ne(r):[]}function Ur(n,t){var e=-1,r=n?n.length:0,o={};for(!r||t||ja(n[0])||(t=[]);++e<r;){var i=n[e];t?o[i]=t[e]:i&&(o[i[0]]=i[1])}return o}function Nr(n){var e=t(n);return e.__chain__=!0,e}function zr(n,t,e){return t.call(e,n),n}function Xr(n,t,e){return t.call(e,n)}function Wr(){return Nr(this)}function Vr(){return new r(this.value(),this.__chain__)}function Fr(n){for(var t,r=this;r instanceof e;){var o=dr(r);t?i.__wrapped__=o:t=o;var i=o;r=r.__wrapped__}return i.__wrapped__=n,t}function Zr(){var n=this.__wrapped__,t=function(n){return e&&e.__dir__<0?n:n.reverse()};if(n instanceof o){var e=n;return this.__actions__.length&&(e=new o(this)),e=e.reverse(),e.__actions__.push({func:Xr,args:[t],thisArg:M}),new r(e,this.__chain__)}return this.thru(t)}function Jr(){return this.value()+""}function Yr(){return re(this.__wrapped__,this.__actions__)}function Qr(n,t,e){var r=ja(n)?ut:Pt;return e&&$e(n,t,e)&&(t=M),("function"!=typeof t||e!==M)&&(t=Ne(t,e,3)),r(n,t)}function Kr(n,t,e){var r=ja(n)?ft:Et;return t=Ne(t,e,3),r(n,t)}function qr(n,t){return oa(n,Ut(t))}function $r(n,t,e,r){var o=n?zu(n):0;return er(o)||(n=ui(n),o=n.length),e="number"!=typeof e||r&&$e(t,e,r)?0:0>e?Au(o+e,0):e||0,"string"==typeof n||!ja(n)&&Xo(n)?o>=e&&n.indexOf(t,e)>-1:!!o&&Xe(n,t,e)>-1}function no(n,t,e){var r=ja(n)?ct:Rt;return t=Ne(t,e,3),r(n,t)}function to(n,t){return no(n,Li(t))}function eo(n,t,e){var r=ja(n)?ft:Et;return t=Ne(t,e,3),r(n,function(n,e,r){return!t(n,e,r)})}function ro(n,t,e){if(e?$e(n,t,e):null==t){n=lr(n);var r=n.length;return r>0?n[Zt(0,r-1)]:M}var o=-1,i=Jo(n),r=i.length,u=r-1;for(t=xu(0>t?0:+t||0,r);++o<t;){var a=Zt(o,u),f=i[a];i[a]=i[o],i[o]=f}return i.length=t,i}function oo(n){return ro(n,Eu)}function io(n){var t=n?zu(n):0;return er(t)?t:Ua(n).length}function uo(n,t,e){var r=ja(n)?dt:Qt;return e&&$e(n,t,e)&&(t=M),("function"!=typeof t||e!==M)&&(t=Ne(t,e,3)),r(n,t)}function ao(n,t,e){if(null==n)return[];e&&$e(n,t,e)&&(t=M);var r=-1;t=Ne(t,e,3);var o=Rt(n,function(n,e,o){return{criteria:t(n,e,o),index:++r,value:n}});return Kt(o,p)}function fo(n,t,e,r){return null==n?[]:(r&&$e(t,e,r)&&(e=M),ja(t)||(t=null==t?[]:[t]),ja(e)||(e=null==e?[]:[e]),qt(n,t,e))}function co(n,t){return Kr(n,Ut(t))}function lo(n,t){if("function"!=typeof t){if("function"!=typeof n)throw new Qi(V);var e=n;n=t,t=e}return n=bu(n=+n)?n:0,function(){return--n<1?t.apply(this,arguments):void 0}}function so(n,t,e){return e&&$e(n,t,e)&&(t=M),t=n&&null==t?n.length:Au(+t||0,0),Ge(n,k,M,M,M,M,t)}function po(n,t){var e;if("function"!=typeof t){if("function"!=typeof n)throw new Qi(V);var r=n;n=t,t=r}return function(){return--n>0&&(e=t.apply(this,arguments)),1>=n&&(t=M),e}}function ho(n,t,e){function r(){d&&au(d),c&&au(c),v=0,c=d=h=M}function o(t,e){e&&au(e),c=d=h=M,t&&(v=va(),l=n.apply(p,f),d||c||(f=p=M))}function i(){var n=t-(va()-s);0>=n||n>t?o(h,c):d=pu(i,n)}function u(){o(y,d)}function a(){if(f=arguments,s=va(),p=this,h=y&&(d||!_),g===!1)var e=_&&!d;else{c||_||(v=s);var r=g-(s-v),o=0>=r||r>g;o?(c&&(c=au(c)),v=s,l=n.apply(p,f)):c||(c=pu(u,r))}return o&&d?d=au(d):d||t===g||(d=pu(i,t)),e&&(o=!0,l=n.apply(p,f)),!o||d||c||(f=p=M),l}var f,c,l,s,p,d,h,v=0,g=!1,y=!0;if("function"!=typeof n)throw new Qi(V);if(t=0>t?0:+t||0,e===!0){var _=!0;y=!1}else To(e)&&(_=!!e.leading,g="maxWait"in e&&Au(+e.maxWait||0,t),y="trailing"in e?!!e.trailing:y);return a.cancel=r,a}function vo(n,t){if("function"!=typeof n||t&&"function"!=typeof t)throw new Qi(V);var e=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=e.cache;if(i.has(o))return i.get(o);var u=n.apply(this,r);return e.cache=i.set(o,u),u};return e.cache=new vo.Cache,e}function go(n){if("function"!=typeof n)throw new Qi(V);return function(){return!n.apply(this,arguments)}}function yo(n){return po(2,n)}function _o(n,t){if("function"!=typeof n)throw new Qi(V);return t=Au(t===M?n.length-1:+t||0,0),function(){for(var e=arguments,r=-1,o=Au(e.length-t,0),i=Ni(o);++r<o;)i[r]=e[t+r];switch(t){case 0:return n.call(this,i);case 1:return n.call(this,e[0],i);case 2:return n.call(this,e[0],e[1],i)}var u=Ni(t+1);for(r=-1;++r<t;)u[r]=e[r];return u[t]=i,n.apply(this,u)}}function mo(n){if("function"!=typeof n)throw new Qi(V);return function(t){return n.apply(this,t)}}function bo(n,t,e){var r=!0,o=!0;if("function"!=typeof n)throw new Qi(V);return e===!1?r=!1:To(e)&&(r="leading"in e?!!e.leading:r,o="trailing"in e?!!e.trailing:o),ho(n,t,{leading:r,maxWait:+t,trailing:o})}function wo(n,t){return t=null==t?Ei:t,Ge(t,L,M,[n],[])}function Ao(n,t,e,r){return t&&"boolean"!=typeof t&&$e(n,t,e)?t=!1:"function"==typeof t&&(r=e,e=t,t=!1),"function"==typeof e?At(n,t,ue(e,r,1)):At(n,t)}function xo(n,t,e){return"function"==typeof t?At(n,!0,ue(t,e,1)):At(n,!0)}function So(n,t){return n>t}function Po(n,t){return n>=t}function Oo(n){return m(n)&&Ke(n)&&tu.call(n,"callee")&&!lu.call(n,"callee")}function Mo(n){return n===!0||n===!1||m(n)&&ru.call(n)==Y}function Eo(n){return m(n)&&ru.call(n)==Q}function jo(n){return!!n&&1===n.nodeType&&m(n)&&!No(n)}function Io(n){return null==n?!0:Ke(n)&&(ja(n)||Xo(n)||Oo(n)||m(n)&&Lo(n.splice))?!n.length:!Ua(n).length}function Co(n,t,e,r){e="function"==typeof e?ue(e,r,3):M;var o=e?e(n,t):M;return o===M?kt(n,t,e):!!o}function Bo(n){return m(n)&&"string"==typeof n.message&&ru.call(n)==K}function Do(n){return"number"==typeof n&&bu(n)}function Lo(n){return To(n)&&ru.call(n)==q}function To(n){var t=typeof n;return!!n&&("object"==t||"function"==t)}function ko(n,t,e,r){return e="function"==typeof e?ue(e,r,3):M,Ht(n,We(t),e)}function Go(n){return Uo(n)&&n!=+n}function Ho(n){return null==n?!1:Lo(n)?iu.test(nu.call(n)):m(n)&&Gn.test(n)}function Ro(n){return null===n}function Uo(n){return"number"==typeof n||m(n)&&ru.call(n)==nn}function No(n){var t;if(!m(n)||ru.call(n)!=tn||Oo(n)||!tu.call(n,"constructor")&&(t=n.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var e;return Ct(n,function(n,t){e=t}),e===M||tu.call(n,e)}function zo(n){return To(n)&&ru.call(n)==en}function Xo(n){return"string"==typeof n||m(n)&&ru.call(n)==on}function Wo(n){return m(n)&&er(n.length)&&!!Vn[ru.call(n)]}function Vo(n){return n===M}function Fo(n,t){return t>n}function Zo(n,t){return t>=n}function Jo(n){var t=n?zu(n):0;return er(t)?t?tt(n):[]:ui(n)}function Yo(n){return bt(n,ti(n))}function Qo(n,t,e){var r=Tu(n);return e&&$e(n,t,e)&&(t=M),t?_t(r,t):r}function Ko(n){return Lt(n,ti(n))}function qo(n,t,e){var r=null==n?M:Tt(n,pr(t),t+"");return r===M?e:r}function $o(n,t){if(null==n)return!1;var e=tu.call(n,t);if(!e&&!nr(t)){if(t=pr(t),n=1==t.length?n:Tt(n,Yt(t,0,-1)),null==n)return!1;t=Or(t),e=tu.call(n,t)}return e||er(n.length)&&qe(t,n.length)&&(ja(n)||Oo(n))}function ni(n,t,e){e&&$e(n,t,e)&&(t=M);for(var r=-1,o=Ua(n),i=o.length,u={};++r<i;){var a=o[r],f=n[a];t?tu.call(u,f)?u[f].push(a):u[f]=[a]:u[f]=a}return u}function ti(n){if(null==n)return[];To(n)||(n=Zi(n));var t=n.length;t=t&&er(t)&&(ja(n)||Oo(n))&&t||0;for(var e=n.constructor,r=-1,o="function"==typeof e&&e.prototype===n,i=Ni(t),u=t>0;++r<t;)i[r]=r+"";for(var a in n)u&&qe(a,t)||"constructor"==a&&(o||!tu.call(n,a))||i.push(a);return i}function ei(n){n=sr(n);for(var t=-1,e=Ua(n),r=e.length,o=Ni(r);++t<r;){var i=e[t];o[t]=[i,n[i]]}return o}function ri(n,t,e){var r=null==n?M:n[t];return r===M&&(null==n||nr(t,n)||(t=pr(t),n=1==t.length?n:Tt(n,Yt(t,0,-1)),r=null==n?M:n[Or(t)]),r=r===M?e:r),Lo(r)?r.call(n):r}function oi(n,t,e){if(null==n)return n;var r=t+"";t=null!=n[r]||nr(t,n)?[r]:pr(t);for(var o=-1,i=t.length,u=i-1,a=n;null!=a&&++o<i;){var f=t[o];To(a)&&(o==u?a[f]=e:null==a[f]&&(a[f]=qe(t[o+1])?[]:{})),a=a[f]}return n}function ii(n,t,e,r){var o=ja(n)||Wo(n);if(t=Ne(t,r,4),null==e)if(o||To(n)){var i=n.constructor;e=o?ja(n)?new i:[]:Tu(Lo(i)?i.prototype:M)}else e={};return(o?et:Bt)(n,function(n,r,o){return t(e,n,r,o)}),e}function ui(n){return te(n,Ua(n))}function ai(n){return te(n,ti(n))}function fi(n,t,e){return t=+t||0,e===M?(e=t,t=0):e=+e||0,n>=xu(t,e)&&n<Au(t,e)}function ci(n,t,e){e&&$e(n,t,e)&&(t=e=M);var r=null==n,o=null==t;if(null==e&&(o&&"boolean"==typeof n?(e=n,n=1):"boolean"==typeof t&&(e=t,o=!0)),r&&o&&(t=1,o=!1),n=+n||0,o?(t=n,n=0):t=+t||0,e||n%1||t%1){var i=Ou();return xu(n+i*(t-n+fu("1e-"+((i+"").length-1))),t)}return Zt(n,t)}function li(n){return n=c(n),n&&n.charAt(0).toUpperCase()+n.slice(1);
}function si(n){return n=c(n),n&&n.replace(Rn,h).replace(Bn,"")}function pi(n,t,e){n=c(n),t+="";var r=n.length;return e=e===M?r:xu(0>e?0:+e||0,r),e-=t.length,e>=0&&n.indexOf(t,e)==e}function di(n){return n=c(n),n&&xn.test(n)?n.replace(wn,v):n}function hi(n){return n=c(n),n&&Cn.test(n)?n.replace(In,g):n||"(?:)"}function vi(n,t,e){n=c(n),t=+t;var r=n.length;if(r>=t||!bu(t))return n;var o=(t-r)/2,i=_u(o),u=gu(o);return e=De("",u,e),e.slice(0,i)+n+e}function gi(n,t,e){return(e?$e(n,t,e):null==t)?t=0:t&&(t=+t),n=bi(n),Pu(n,t||(kn.test(n)?16:10))}function yi(n,t){var e="";if(n=c(n),t=+t,1>t||!n||!bu(t))return e;do t%2&&(e+=n),t=_u(t/2),n+=n;while(t);return e}function _i(n,t,e){return n=c(n),e=null==e?0:xu(0>e?0:+e||0,n.length),n.lastIndexOf(t,e)==e}function mi(n,e,r){var o=t.templateSettings;r&&$e(n,e,r)&&(e=r=M),n=c(n),e=yt(_t({},r||e),o,gt);var i,u,a=yt(_t({},e.imports),o.imports,gt),f=Ua(a),l=te(a,f),s=0,p=e.interpolate||Un,d="__p += '",h=Ji((e.escape||Un).source+"|"+p.source+"|"+(p===On?Ln:Un).source+"|"+(e.evaluate||Un).source+"|$","g"),v="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Wn+"]")+"\n";n.replace(h,function(t,e,r,o,a,f){return r||(r=o),d+=n.slice(s,f).replace(Nn,y),e&&(i=!0,d+="' +\n__e("+e+") +\n'"),a&&(u=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),s=f+t.length,t}),d+="';\n";var g=e.variable;g||(d="with (obj) {\n"+d+"\n}\n"),d=(u?d.replace(yn,""):d).replace(_n,"$1").replace(mn,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var _=Ka(function(){return Wi(f,v+"return "+d).apply(M,l)});if(_.source=d,Bo(_))throw _;return _}function bi(n,t,e){var r=n;return(n=c(n))?(e?$e(r,t,e):null==t)?n.slice(x(n),S(n)+1):(t+="",n.slice(l(n,t),s(n,t)+1)):n}function wi(n,t,e){var r=n;return n=c(n),n?(e?$e(r,t,e):null==t)?n.slice(x(n)):n.slice(l(n,t+"")):n}function Ai(n,t,e){var r=n;return n=c(n),n?(e?$e(r,t,e):null==t)?n.slice(0,S(n)+1):n.slice(0,s(n,t+"")+1):n}function xi(n,t,e){e&&$e(n,t,e)&&(t=M);var r=H,o=R;if(null!=t)if(To(t)){var i="separator"in t?t.separator:i;r="length"in t?+t.length||0:r,o="omission"in t?c(t.omission):o}else r=+t||0;if(n=c(n),r>=n.length)return n;var u=r-o.length;if(1>u)return o;var a=n.slice(0,u);if(null==i)return a+o;if(zo(i)){if(n.slice(u).search(i)){var f,l,s=n.slice(0,u);for(i.global||(i=Ji(i.source,(Tn.exec(i)||"")+"g")),i.lastIndex=0;f=i.exec(s);)l=f.index;a=a.slice(0,null==l?u:l)}}else if(n.indexOf(i,u)!=u){var p=a.lastIndexOf(i);p>-1&&(a=a.slice(0,p))}return a+o}function Si(n){return n=c(n),n&&An.test(n)?n.replace(bn,P):n}function Pi(n,t,e){return e&&$e(n,t,e)&&(t=M),n=c(n),n.match(t||zn)||[]}function Oi(n,t,e){return e&&$e(n,t,e)&&(t=M),m(n)?ji(n):wt(n,t)}function Mi(n){return function(){return n}}function Ei(n){return n}function ji(n){return Ut(At(n,!0))}function Ii(n,t){return Nt(n,At(t,!0))}function Ci(n,t,e){if(null==e){var r=To(t),o=r?Ua(t):M,i=o&&o.length?Lt(t,o):M;(i?i.length:r)||(i=!1,e=t,t=n,n=this)}i||(i=Lt(t,Ua(t)));var u=!0,a=-1,f=Lo(n),c=i.length;e===!1?u=!1:To(e)&&"chain"in e&&(u=e.chain);for(;++a<c;){var l=i[a],s=t[l];n[l]=s,f&&(n.prototype[l]=function(t){return function(){var e=this.__chain__;if(u||e){var r=n(this.__wrapped__),o=r.__actions__=tt(this.__actions__);return o.push({func:t,args:arguments,thisArg:n}),r.__chain__=e,r}return t.apply(n,lt([this.value()],arguments))}}(s))}return n}function Bi(){return ot._=ou,this}function Di(){}function Li(n){return nr(n)?Wt(n):Vt(n)}function Ti(n){return function(t){return Tt(n,pr(t),t+"")}}function ki(n,t,e){e&&$e(n,t,e)&&(t=e=M),n=+n||0,e=null==e?1:+e||0,null==t?(t=n,n=0):t=+t||0;for(var r=-1,o=Au(gu((t-n)/(e||1)),0),i=Ni(o);++r<o;)i[r]=n,n+=e;return i}function Gi(n,t,e){if(n=_u(n),1>n||!bu(n))return[];var r=-1,o=Ni(xu(n,ju));for(t=ue(t,e,1);++r<n;)ju>r?o[r]=t(r):t(r);return o}function Hi(n){var t=++eu;return c(n)+t}function Ri(n,t){return(+n||0)+(+t||0)}function Ui(n,t,e){return e&&$e(n,t,e)&&(t=M),t=Ne(t,e,3),1==t.length?ht(ja(n)?n:lr(n),t):$t(n,t)}n=n?it.defaults(ot.Object(),n,it.pick(ot,Xn)):ot;var Ni=n.Array,zi=n.Date,Xi=n.Error,Wi=n.Function,Vi=n.Math,Fi=n.Number,Zi=n.Object,Ji=n.RegExp,Yi=n.String,Qi=n.TypeError,Ki=Ni.prototype,qi=Zi.prototype,$i=Yi.prototype,nu=Wi.prototype.toString,tu=qi.hasOwnProperty,eu=0,ru=qi.toString,ou=ot._,iu=Ji("^"+nu.call(tu).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),uu=n.ArrayBuffer,au=n.clearTimeout,fu=n.parseFloat,cu=Vi.pow,lu=qi.propertyIsEnumerable,su=Ve(n,"Set"),pu=n.setTimeout,du=Ki.splice,hu=n.Uint8Array,vu=Ve(n,"WeakMap"),gu=Vi.ceil,yu=Ve(Zi,"create"),_u=Vi.floor,mu=Ve(Ni,"isArray"),bu=n.isFinite,wu=Ve(Zi,"keys"),Au=Vi.max,xu=Vi.min,Su=Ve(zi,"now"),Pu=n.parseInt,Ou=Vi.random,Mu=Fi.NEGATIVE_INFINITY,Eu=Fi.POSITIVE_INFINITY,ju=4294967295,Iu=ju-1,Cu=ju>>>1,Bu=9007199254740991,Du=vu&&new vu,Lu={};t.support={};t.templateSettings={escape:Sn,evaluate:Pn,interpolate:On,variable:"",imports:{_:t}};var Tu=function(){function n(){}return function(t){if(To(t)){n.prototype=t;var e=new n;n.prototype=M}return e||{}}}(),ku=pe(Bt),Gu=pe(Dt,!0),Hu=de(),Ru=de(!0),Uu=Du?function(n,t){return Du.set(n,t),n}:Ei,Nu=Du?function(n){return Du.get(n)}:Di,zu=Wt("length"),Xu=function(){var n=0,t=0;return function(e,r){var o=va(),i=N-(o-t);if(t=o,i>0){if(++n>=U)return e}else n=0;return Uu(e,r)}}(),Wu=_o(function(n,t){return m(n)&&Ke(n)?St(n,It(t,!1,!0)):[]}),Vu=Ae(),Fu=Ae(!0),Zu=_o(function(n){for(var t=n.length,e=t,r=Ni(s),o=Xe(),i=o==a,u=[];e--;){var f=n[e]=Ke(f=n[e])?f:[];r[e]=i&&f.length>=120?ve(e&&f):null}var c=n[0],l=-1,s=c?c.length:0,p=r[0];n:for(;++l<s;)if(f=c[l],(p?qn(p,f):o(u,f,0))<0){for(var e=t;--e;){var d=r[e];if((d?qn(d,f):o(n[e],f,0))<0)continue n}p&&p.push(f),u.push(f)}return u}),Ju=_o(function(n,t){t=It(t);var e=mt(n,t);return Ft(n,t.sort(i)),e}),Yu=ke(),Qu=ke(!0),Ku=_o(function(n){return ne(It(n,!1,!0))}),qu=_o(function(n,t){return Ke(n)?St(n,t):[]}),$u=_o(Gr),na=_o(function(n){var t=n.length,e=t>2?n[t-2]:M,r=t>1?n[t-1]:M;return t>2&&"function"==typeof e?t-=2:(e=t>1&&"function"==typeof r?(--t,r):M,r=M),n.length=t,Hr(n,e,r)}),ta=_o(function(n){return n=It(n),this.thru(function(t){return nt(ja(t)?t:[sr(t)],n)})}),ea=_o(function(n,t){return mt(n,It(t))}),ra=le(function(n,t,e){tu.call(n,e)?++n[e]:n[e]=1}),oa=we(ku),ia=we(Gu,!0),ua=Pe(et,ku),aa=Pe(rt,Gu),fa=le(function(n,t,e){tu.call(n,e)?n[e].push(t):n[e]=[t]}),ca=le(function(n,t,e){n[e]=t}),la=_o(function(n,t,e){var r=-1,o="function"==typeof t,i=nr(t),u=Ke(n)?Ni(n.length):[];return ku(n,function(n){var a=o?t:i&&null!=n?n[t]:M;u[++r]=a?a.apply(n,e):Qe(n,t,e)}),u}),sa=le(function(n,t,e){n[e?0:1].push(t)},function(){return[[],[]]}),pa=Ce(st,ku),da=Ce(pt,Gu),ha=_o(function(n,t){if(null==n)return[];var e=t[2];return e&&$e(t[0],t[1],e)&&(t.length=1),qt(n,It(t),[])}),va=Su||function(){return(new zi).getTime()},ga=_o(function(n,t,e){var r=j;if(e.length){var o=w(e,ga.placeholder);r|=L}return Ge(n,r,t,e,o)}),ya=_o(function(n,t){t=t.length?It(t):Ko(n);for(var e=-1,r=t.length;++e<r;){var o=t[e];n[o]=Ge(n[o],j,n)}return n}),_a=_o(function(n,t,e){var r=j|I;if(e.length){var o=w(e,_a.placeholder);r|=L}return Ge(t,r,n,e,o)}),ma=_e(B),ba=_e(D),wa=_o(function(n,t){return xt(n,1,t)}),Aa=_o(function(n,t,e){return xt(n,t,e)}),xa=Se(),Sa=Se(!0),Pa=_o(function(n,t){if(t=It(t),"function"!=typeof n||!ut(t,f))throw new Qi(V);var e=t.length;return _o(function(r){for(var o=xu(r.length,e);o--;)r[o]=t[o](r[o]);return n.apply(this,r)})}),Oa=Ie(L),Ma=Ie(T),Ea=_o(function(n,t){return Ge(n,G,M,M,M,It(t))}),ja=mu||function(n){return m(n)&&er(n.length)&&ru.call(n)==J},Ia=se(zt),Ca=se(function(n,t,e){return e?yt(n,t,e):_t(n,t)}),Ba=me(Ca,vt),Da=me(Ia,ir),La=xe(Bt),Ta=xe(Dt),ka=Oe(Hu),Ga=Oe(Ru),Ha=Me(Bt),Ra=Me(Dt),Ua=wu?function(n){var t=null==n?M:n.constructor;return"function"==typeof t&&t.prototype===n||"function"!=typeof n&&Ke(n)?cr(n):To(n)?wu(n):[]}:cr,Na=Ee(!0),za=Ee(),Xa=_o(function(n,t){if(null==n)return{};if("function"!=typeof t[0]){var t=ct(It(t),Yi);return ur(n,St(ti(n),t))}var e=ue(t[0],t[1],3);return ar(n,function(n,t,r){return!e(n,t,r)})}),Wa=_o(function(n,t){return null==n?{}:"function"==typeof t[0]?ar(n,ue(t[0],t[1],3)):ur(n,It(t))}),Va=ge(function(n,t,e){return t=t.toLowerCase(),n+(e?t.charAt(0).toUpperCase()+t.slice(1):t)}),Fa=ge(function(n,t,e){return n+(e?"-":"")+t.toLowerCase()}),Za=je(),Ja=je(!0),Ya=ge(function(n,t,e){return n+(e?"_":"")+t.toLowerCase()}),Qa=ge(function(n,t,e){return n+(e?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Ka=_o(function(n,t){try{return n.apply(M,t)}catch(e){return Bo(e)?e:new Xi(e)}}),qa=_o(function(n,t){return function(e){return Qe(e,n,t)}}),$a=_o(function(n,t){return function(e){return Qe(n,e,t)}}),nf=Te("ceil"),tf=Te("floor"),ef=be(So,Mu),rf=be(Fo,Eu),of=Te("round");return t.prototype=e.prototype,r.prototype=Tu(e.prototype),r.prototype.constructor=r,o.prototype=Tu(e.prototype),o.prototype.constructor=o,un.prototype["delete"]=Zn,un.prototype.get=Jn,un.prototype.has=Yn,un.prototype.set=Qn,Kn.prototype.push=$n,vo.Cache=un,t.after=lo,t.ary=so,t.assign=Ca,t.at=ea,t.before=po,t.bind=ga,t.bindAll=ya,t.bindKey=_a,t.callback=Oi,t.chain=Nr,t.chunk=hr,t.compact=vr,t.constant=Mi,t.countBy=ra,t.create=Qo,t.curry=ma,t.curryRight=ba,t.debounce=ho,t.defaults=Ba,t.defaultsDeep=Da,t.defer=wa,t.delay=Aa,t.difference=Wu,t.drop=gr,t.dropRight=yr,t.dropRightWhile=_r,t.dropWhile=mr,t.fill=br,t.filter=Kr,t.flatten=Ar,t.flattenDeep=xr,t.flow=xa,t.flowRight=Sa,t.forEach=ua,t.forEachRight=aa,t.forIn=ka,t.forInRight=Ga,t.forOwn=Ha,t.forOwnRight=Ra,t.functions=Ko,t.groupBy=fa,t.indexBy=ca,t.initial=Pr,t.intersection=Zu,t.invert=ni,t.invoke=la,t.keys=Ua,t.keysIn=ti,t.map=no,t.mapKeys=Na,t.mapValues=za,t.matches=ji,t.matchesProperty=Ii,t.memoize=vo,t.merge=Ia,t.method=qa,t.methodOf=$a,t.mixin=Ci,t.modArgs=Pa,t.negate=go,t.omit=Xa,t.once=yo,t.pairs=ei,t.partial=Oa,t.partialRight=Ma,t.partition=sa,t.pick=Wa,t.pluck=to,t.property=Li,t.propertyOf=Ti,t.pull=Er,t.pullAt=Ju,t.range=ki,t.rearg=Ea,t.reject=eo,t.remove=jr,t.rest=Ir,t.restParam=_o,t.set=oi,t.shuffle=oo,t.slice=Cr,t.sortBy=ao,t.sortByAll=ha,t.sortByOrder=fo,t.spread=mo,t.take=Br,t.takeRight=Dr,t.takeRightWhile=Lr,t.takeWhile=Tr,t.tap=zr,t.throttle=bo,t.thru=Xr,t.times=Gi,t.toArray=Jo,t.toPlainObject=Yo,t.transform=ii,t.union=Ku,t.uniq=kr,t.unzip=Gr,t.unzipWith=Hr,t.values=ui,t.valuesIn=ai,t.where=co,t.without=qu,t.wrap=wo,t.xor=Rr,t.zip=$u,t.zipObject=Ur,t.zipWith=na,t.backflow=Sa,t.collect=no,t.compose=Sa,t.each=ua,t.eachRight=aa,t.extend=Ca,t.iteratee=Oi,t.methods=Ko,t.object=Ur,t.select=Kr,t.tail=Ir,t.unique=kr,Ci(t,t),t.add=Ri,t.attempt=Ka,t.camelCase=Va,t.capitalize=li,t.ceil=nf,t.clone=Ao,t.cloneDeep=xo,t.deburr=si,t.endsWith=pi,t.escape=di,t.escapeRegExp=hi,t.every=Qr,t.find=oa,t.findIndex=Vu,t.findKey=La,t.findLast=ia,t.findLastIndex=Fu,t.findLastKey=Ta,t.findWhere=qr,t.first=wr,t.floor=tf,t.get=qo,t.gt=So,t.gte=Po,t.has=$o,t.identity=Ei,t.includes=$r,t.indexOf=Sr,t.inRange=fi,t.isArguments=Oo,t.isArray=ja,t.isBoolean=Mo,t.isDate=Eo,t.isElement=jo,t.isEmpty=Io,t.isEqual=Co,t.isError=Bo,t.isFinite=Do,t.isFunction=Lo,t.isMatch=ko,t.isNaN=Go,t.isNative=Ho,t.isNull=Ro,t.isNumber=Uo,t.isObject=To,t.isPlainObject=No,t.isRegExp=zo,t.isString=Xo,t.isTypedArray=Wo,t.isUndefined=Vo,t.kebabCase=Fa,t.last=Or,t.lastIndexOf=Mr,t.lt=Fo,t.lte=Zo,t.max=ef,t.min=rf,t.noConflict=Bi,t.noop=Di,t.now=va,t.pad=vi,t.padLeft=Za,t.padRight=Ja,t.parseInt=gi,t.random=ci,t.reduce=pa,t.reduceRight=da,t.repeat=yi,t.result=ri,t.round=of,t.runInContext=O,t.size=io,t.snakeCase=Ya,t.some=uo,t.sortedIndex=Yu,t.sortedLastIndex=Qu,t.startCase=Qa,t.startsWith=_i,t.sum=Ui,t.template=mi,t.trim=bi,t.trimLeft=wi,t.trimRight=Ai,t.trunc=xi,t.unescape=Si,t.uniqueId=Hi,t.words=Pi,t.all=Qr,t.any=uo,t.contains=$r,t.eq=Co,t.detect=oa,t.foldl=pa,t.foldr=da,t.head=wr,t.include=$r,t.inject=pa,Ci(t,function(){var n={};return Bt(t,function(e,r){t.prototype[r]||(n[r]=e)}),n}(),!1),t.sample=ro,t.prototype.sample=function(n){return this.__chain__||null!=n?this.thru(function(t){return ro(t,n)}):ro(this.value())},t.VERSION=E,et(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){t[n].placeholder=t}),et(["drop","take"],function(n,t){o.prototype[n]=function(e){var r=this.__filtered__;if(r&&!t)return new o(this);e=null==e?1:Au(_u(e)||0,0);var i=this.clone();return r?i.__takeCount__=xu(i.__takeCount__,e):i.__views__.push({size:e,type:n+(i.__dir__<0?"Right":"")}),i},o.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),et(["filter","map","takeWhile"],function(n,t){var e=t+1,r=e!=W;o.prototype[n]=function(n,t){var o=this.clone();return o.__iteratees__.push({iteratee:Ne(n,t,1),type:e}),o.__filtered__=o.__filtered__||r,o}}),et(["first","last"],function(n,t){var e="take"+(t?"Right":"");o.prototype[n]=function(){return this[e](1).value()[0]}}),et(["initial","rest"],function(n,t){var e="drop"+(t?"":"Right");o.prototype[n]=function(){return this.__filtered__?new o(this):this[e](1)}}),et(["pluck","where"],function(n,t){var e=t?"filter":"map",r=t?Ut:Li;o.prototype[n]=function(n){return this[e](r(n))}}),o.prototype.compact=function(){return this.filter(Ei)},o.prototype.reject=function(n,t){return n=Ne(n,t,1),this.filter(function(t){return!n(t)})},o.prototype.slice=function(n,t){n=null==n?0:+n||0;var e=this;return e.__filtered__&&(n>0||0>t)?new o(e):(0>n?e=e.takeRight(-n):n&&(e=e.drop(n)),t!==M&&(t=+t||0,e=0>t?e.dropRight(-t):e.take(t-n)),e)},o.prototype.takeRightWhile=function(n,t){return this.reverse().takeWhile(n,t).reverse()},o.prototype.toArray=function(){return this.take(Eu)},Bt(o.prototype,function(n,e){var i=/^(?:filter|map|reject)|While$/.test(e),u=/^(?:first|last)$/.test(e),a=t[u?"take"+("last"==e?"Right":""):e];a&&(t.prototype[e]=function(){var t=u?[1]:arguments,e=this.__chain__,f=this.__wrapped__,c=!!this.__actions__.length,l=f instanceof o,s=t[0],p=l||ja(f);p&&i&&"function"==typeof s&&1!=s.length&&(l=p=!1);var d=function(n){return u&&e?a(n,1)[0]:a.apply(M,lt([n],t))},h={func:Xr,args:[d],thisArg:M},v=l&&!c;if(u&&!e)return v?(f=f.clone(),f.__actions__.push(h),n.call(f)):a.call(M,this.value())[0];if(!u&&p){f=v?f:new o(this);var g=n.apply(f,t);return g.__actions__.push(h),new r(g,e)}return this.thru(d)})}),et(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(n){var e=(/^(?:replace|split)$/.test(n)?$i:Ki)[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",o=/^(?:join|pop|replace|shift)$/.test(n);t.prototype[n]=function(){var n=arguments;return o&&!this.__chain__?e.apply(this.value(),n):this[r](function(t){return e.apply(t,n)})}}),Bt(o.prototype,function(n,e){var r=t[e];if(r){var o=r.name,i=Lu[o]||(Lu[o]=[]);i.push({name:e,func:r})}}),Lu[Be(M,I).name]=[{name:"wrapper",func:M}],o.prototype.clone=b,o.prototype.reverse=$,o.prototype.value=rn,t.prototype.chain=Wr,t.prototype.commit=Vr,t.prototype.concat=ta,t.prototype.plant=Fr,t.prototype.reverse=Zr,t.prototype.toString=Jr,t.prototype.run=t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=Yr,t.prototype.collect=t.prototype.map,t.prototype.head=t.prototype.first,t.prototype.select=t.prototype.filter,t.prototype.tail=t.prototype.rest,t}var M,E="3.10.1",j=1,I=2,C=4,B=8,D=16,L=32,T=64,k=128,G=256,H=30,R="...",U=150,N=16,z=200,X=1,W=2,V="Expected a function",F="__lodash_placeholder__",Z="[object Arguments]",J="[object Array]",Y="[object Boolean]",Q="[object Date]",K="[object Error]",q="[object Function]",$="[object Map]",nn="[object Number]",tn="[object Object]",en="[object RegExp]",rn="[object Set]",on="[object String]",un="[object WeakMap]",an="[object ArrayBuffer]",fn="[object Float32Array]",cn="[object Float64Array]",ln="[object Int8Array]",sn="[object Int16Array]",pn="[object Int32Array]",dn="[object Uint8Array]",hn="[object Uint8ClampedArray]",vn="[object Uint16Array]",gn="[object Uint32Array]",yn=/\b__p \+= '';/g,_n=/\b(__p \+=) '' \+/g,mn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,bn=/&(?:amp|lt|gt|quot|#39|#96);/g,wn=/[&<>"'`]/g,An=RegExp(bn.source),xn=RegExp(wn.source),Sn=/<%-([\s\S]+?)%>/g,Pn=/<%([\s\S]+?)%>/g,On=/<%=([\s\S]+?)%>/g,Mn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,En=/^\w*$/,jn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,In=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Cn=RegExp(In.source),Bn=/[\u0300-\u036f\ufe20-\ufe23]/g,Dn=/\\(\\)?/g,Ln=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Tn=/\w*$/,kn=/^0[xX]/,Gn=/^\[object .+?Constructor\]$/,Hn=/^\d+$/,Rn=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Un=/($^)/,Nn=/['\n\r\u2028\u2029\\]/g,zn=function(){var n="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(n+"+(?="+n+t+")|"+n+"?"+t+"|"+n+"+|[0-9]+","g")}(),Xn=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Wn=-1,Vn={};Vn[fn]=Vn[cn]=Vn[ln]=Vn[sn]=Vn[pn]=Vn[dn]=Vn[hn]=Vn[vn]=Vn[gn]=!0,Vn[Z]=Vn[J]=Vn[an]=Vn[Y]=Vn[Q]=Vn[K]=Vn[q]=Vn[$]=Vn[nn]=Vn[tn]=Vn[en]=Vn[rn]=Vn[on]=Vn[un]=!1;var Fn={};Fn[Z]=Fn[J]=Fn[an]=Fn[Y]=Fn[Q]=Fn[fn]=Fn[cn]=Fn[ln]=Fn[sn]=Fn[pn]=Fn[nn]=Fn[tn]=Fn[en]=Fn[on]=Fn[dn]=Fn[hn]=Fn[vn]=Fn[gn]=!0,Fn[K]=Fn[q]=Fn[$]=Fn[rn]=Fn[un]=!1;var Zn={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},Jn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Yn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Qn={"function":!0,object:!0},Kn={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},qn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$n=Qn[typeof t]&&t&&!t.nodeType&&t,nt=Qn[typeof n]&&n&&!n.nodeType&&n,tt=$n&&nt&&"object"==typeof o&&o&&o.Object&&o,et=Qn[typeof self]&&self&&self.Object&&self,rt=Qn[typeof window]&&window&&window.Object&&window,ot=(nt&&nt.exports===$n&&$n,tt||rt!==(this&&this.window)&&rt||et||this),it=O();ot._=it,r=function(){return it}.call(t,e,t,n),!(r!==M&&(n.exports=r))}).call(this)}).call(t,e(17)(n),function(){return this}())},/*!***********************************!*\
  !*** (webpack)/buildin/module.js ***!
  \***********************************/
function(n,t){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children=[],n.webpackPolyfill=1),n}},/*!*******************************!*\
  !*** ./src/gridCalculator.js ***!
  \*******************************/
function(n,t){"use strict";function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function n(){e(this,n)}return r(n,null,[{key:"getEdges",value:function(n,t){var e=this.posToCell(n.min,t),r=this.posToCell(n.max,t);return{minXCell:e.x+1,maxXCell:r.x-1,minZCell:e.z+1,maxZCell:r.z-1}}},{key:"posToCell",value:function(n,t){return n.clone().divide(t).round()}},{key:"cellToPos",value:function(n,t){return n.clone().multiply(t)}}]),n}();t["default"]=o},/*!**********************!*\
  !*** ./src/cache.js ***!
  \**********************/
function(n,t,e){"use strict";function r(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t["default"]=n,t}function o(n,t,e){var r,o=d.loadLibraryData(n),i=[],u=[];for(r in t)i.push(f(r));for(r in e)u.push(c(r));return Promise.all([o,Promise.all(i),Promise.all(u)]).then(function(n){h=n[0]})}function i(){return h}function u(n){return l(v,n,f)}function a(n){return l(g,n,c)}function f(n){return s(v,n,d.loadSectionData)}function c(n){return s(g,n,d.loadBookData)}function l(n,t,e){var r=n[t];return r||(r=e(t)),Promise.resolve(r)}function s(n,t,e){var r=e(t).then(function(e){return n[t]=e,e});return r}Object.defineProperty(t,"__esModule",{value:!0}),t.init=o,t.getLibrary=i,t.getSection=u,t.getBook=a;var p=e(20),d=r(p),h=null,v={},g={}},/*!***************************!*\
  !*** ./src/repository.js ***!
  \***************************/
function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function o(n){var t="/obj/libraries/"+n,e=t+"/model.json",r=t+"/map.jpg";return Promise.all([a(e),f(r)]).then(function(n){return{geometry:n[0],mapImage:n[1]}})}function i(n){var t="/obj/sections/"+n,e=t+"/model.js",r=t+"/map.jpg",o=t+"/data.json";return Promise.all([a(e),f(r),c(o)]).then(function(n){return{geometry:n[0],mapImage:n[1],data:n[2]}})}function u(n){var t="/obj/books/"+n,e=t+"/model.js",r=t+"/map.jpg",o=t+"/bump_map.jpg",i=t+"/specular_map.jpg";return Promise.all([a(e),f(r)["catch"](function(){return console.error("repository: Error loading book map:",n),null}),f(o)["catch"](function(){return console.error("repository: Error loading book bumpMap:",n),null}),f(i)["catch"](function(){return console.error("repository: Error loading book specularMap:",n),null})]).then(function(n){return{geometry:n[0],mapImage:n[1],bumpMapImage:n[2],specularMapImage:n[3]}})}function a(n){return new Promise(function(t,e){p.load(n,function(n){n.computeBoundingBox(),t(n)},function(){},e)})}function f(n){var t=new Image;return t.crossOrigin="",t.src=n,new Promise(function(n,e){t.onload=function(){n(t)},t.onerror=function(n){e(n)}})}function c(n){return new Promise(function(t,e){d.load(n,t,function(){},e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.loadLibraryData=o,t.loadSectionData=i,t.loadBookData=u,t.loadImage=f;var l=e(2),s=r(l),p=new s["default"].JSONLoader,d=new s["default"].XHRLoader;d.setResponseType("json")},/*!**********************!*\
  !*** ./src/mouse.js ***!
  \**********************/
function(n,t,e){"use strict";function r(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t["default"]=n,t}function o(n){return n&&n.__esModule?n:{"default":n}}function i(){return S}function u(n){n&&(y[n.which]=!0,S=n.target,A=n.offsetX,x=n.offsetY,t.longX=b=.5*s()-A,t.longY=w=.5*p()-x)}function a(n){n&&(y[n.which]=!1,y[1]=!1)}function f(n){n&&(S=n.target,t.longX=b=.5*s()-A,t.longY=w=.5*p()-x,t.dX=_=n.offsetX-A,t.dY=m=n.offsetY-x,A=n.offsetX,x=n.offsetY)}function c(n,t,e){var r,o,i,u,a,f,c;if(a=null,r=l(),o=new h["default"].Raycaster,o.set(g.getPosition(),r),i=o.intersectObjects(n,t),e){if(i.length)for(f=0;f<i.length;f++){for(u=i[f],c=e.length-1;c>=0;c--)if(u.object instanceof e[c]){a=u;break}if(a)break}}else a=i;return a}function l(){var n=new h["default"].Vector3(A/s()*2-1,2*-(x/p())+1,.5);return n.unproject(g.camera),n.sub(g.getPosition()).normalize()}function s(){return g.width}function p(){return g.height}Object.defineProperty(t,"__esModule",{value:!0}),t.longY=t.longX=t.dY=t.dX=t.keys=void 0,t.getTarget=i,t.down=u,t.up=a,t.move=f,t.getIntersected=c;var d=e(2),h=o(d),v=e(8),g=r(v),y=t.keys={},_=t.dX=null,m=t.dY=null,b=t.longX=null,w=t.longY=null,A=null,x=null,S=null},/*!************************!*\
  !*** ./src/preview.js ***!
  \************************/
function(n,t,e){"use strict";function r(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t["default"]=n,t}function o(n){return n&&n.__esModule?n:{"default":n}}function i(){return m}function u(n){var t;n&&(l(!0),t=n.clone(),t.position.set(0,0,0),p.add(t))}function a(){s(),l(!1)}function f(n){p.rotation.y+=n?.05*n:0}function c(){p=new h["default"].Object3D,p.position.set(0,0,-.5),p.rotation.y=-2,g.camera.add(p)}function l(n){m=n,_.enable(!m)}function s(){p.children.forEach(function(n){p.remove(n)})}Object.defineProperty(t,"__esModule",{value:!0}),t.isActive=i,t.enable=u,t.disable=a,t.rotate=f;var p,d=e(2),h=o(d),v=e(8),g=r(v),y=e(23),_=r(y),m=!1;c()},/*!**************************!*\
  !*** ./src/highlight.js ***!
  \**************************/
function(n,t,e){"use strict";function r(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t["default"]=n,t}function o(n){return n&&n.__esModule?n:{"default":n}}function i(n){c.visible=f.visible=n}function u(n){m(c,n)}function a(n){m(f,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.enable=i,t.focus=u,t.select=a;var f,c,l=e(2),s=o(l),p=e(10),d=r(p),h=.5*Math.PI,v=2,g=21811,y=13141,_=function(){var n={map:new s["default"].ImageUtils.loadTexture(e(24)),transparent:!0,side:s["default"].DoubleSide,blending:s["default"].AdditiveBlending,depthTest:!1};n.color=g;var t=new s["default"].MeshBasicMaterial(n);n.color=y;var r=new s["default"].MeshBasicMaterial(n),o=new s["default"].PlaneBufferGeometry(1,1,1);f=new s["default"].Mesh(o,t),f.rotation.x=h,c=new s["default"].Mesh(o,r),c.rotation.x=h},m=function(n,t){if(t){var e=t.geometry.boundingBox.max.x*v,r=t.geometry.boundingBox.max.z*v,o=t.geometry.boundingBox.min.y+d.CLEARANCE;n.position.y=o,n.scale.set(e,r,1),t.add(n),n.visible=!0}else n.visible=!1};_()},/*!**************************!*\
  !*** ./src/img/glow.png ***!
  \**************************/
function(n,t){n.exports="data:image/png;base64,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"},/*!*************************!*\
  !*** ./src/selector.js ***!
  \*************************/
function(n,t,e){"use strict";function r(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t["default"]=n,t}function o(n){return n&&n.__esModule?n:{"default":n}}function i(){return T.id}function u(n){var t;n.equals(k)||(k=n,k.isEmpty()||(t=s(),L.focus(t)))}function a(){f(k)}function f(n){var e=p(n);c(),T=n,L.select(e),L.focus(null),t.placing=G=!1}function c(){T.isEmpty()||(L.select(null),T=new A["default"]),B.disable()}function l(){return p(T)}function s(){return p(k)}function p(n){var t;return n.isEmpty()||(t=_(n)?I.getShelf(n.parentId,n.id):m(n)?I.getBook(n.id):b(n)?I.getSection(n.id):null),t}function d(){return g()||y()}function h(n){return m(T)&&T.id===n}function v(){return _(T)}function g(){return m(T)}function y(){return b(T)}function _(n){return n.type===S["default"].TYPE}function m(n){return n.type===O["default"].TYPE}function b(n){return n.type===E["default"].TYPE}Object.defineProperty(t,"__esModule",{value:!0}),t.placing=void 0,t.getSelectedId=i,t.focus=u,t.selectFocused=a,t.select=f,t.unselect=c,t.getSelectedObject=l,t.getFocusedObject=s,t.isSelectedEditable=d,t.isBookSelected=h,t.isSelectedShelf=v,t.isSelectedBook=g,t.isSelectedSection=y;var w=e(6),A=o(w),x=e(1),S=o(x),P=e(4),O=o(P),M=e(5),E=o(M),j=e(10),I=r(j),C=e(22),B=r(C),D=e(23),L=r(D),T=new A["default"],k=new A["default"],G=t.placing=!1},/*!***************************!*\
  !*** ./src/navigation.js ***!
  \***************************/
function(n,t,e){"use strict";function r(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t["default"]=n,t}function o(){g.forward=!1,g.backward=!1,g.left=!1,g.right=!1,g.up=!1,g.down=!1}function i(){g.forward=!0}function u(){g.backward=!0}function a(){g.left=!0}function f(){g.right=!0}function c(){g.up=!0}function l(){g.down=!0}function s(){g.forward?d.go(v):g.backward?d.go(-v):g.left?d.rotate(h,0):g.right?d.rotate(-h,0):g.up?d.rotate(0,h):g.down&&d.rotate(0,-h)}Object.defineProperty(t,"__esModule",{value:!0}),t.BUTTONS_GO_SPEED=void 0,t.goStop=o,t.goForward=i,t.goBackward=u,t.goLeft=a,t.goRight=f,t.goUp=c,t.goDown=l,t.update=s;var p=e(8),d=r(p),h=100,v=t.BUTTONS_GO_SPEED=.02,g={forward:!1,backward:!1,left:!1,right:!1,up:!1,down:!1}}])});
//# sourceMappingURL=bundle.js.map